{% load i18n %}
{% load crispy_forms_tags %}
{% load captureas %}


<div class="title-block">

    {% if show_thumbnail %}
        <div class="content-thumbnail-group {{ content.type|lower }}-illu">
            {% if content.image %}
                <img class="thumbnail" src="{{ content.image.physical.tutorial_illu.url }}" alt="" itemprop="thumbnailUrl">
            {% endif %}
            {% if show_form %}
                {% captureas class_modifier %}{% if content.image %}with-thumbnail{% else %}with-placeholder{% endif %}{% endcaptureas %}
                <a href="#edit-thumbnail" class="open-modal edit-thumbnail {{ class_modifier }}" title="{% trans "Modifier la miniature" %}">
                    <span class="visuallyhidden">{% trans "Modifier la miniature" %}</span>
                </a>
            {% endif %}
        </div>
    {% endif %}

    <div class="content-title-and-subtitle-group">
        <div class="content-title-group">
            {% spaceless %}
            <h1 class="title">{{ title }}</h1>
            {% if show_form %}
                <a href="#edit-title" class="open-modal edit-button" title="{% trans "Modifier le titre" %}">
                    <span class="visuallyhidden">{% trans "Modifier le titre" %}</span>
                </a>
                {% crispy form_title %}
            {% endif %}
            {% endspaceless %}
        </div>

        <div class="content-subtitle-group">
            {% spaceless %}
            {% if show_form %}
                {% if subtitle %}
                    <p class="subtitle">{{ subtitle }}</p>
                    <a href="#edit-subtitle" class="open-modal edit-button" title="{% trans "Modifier le sous-titre" %}">
                        <span class="visuallyhidden">{% trans "Modifier le sous-titre" %}</span>
                    </a>
                {% else %}
                    <a href="#edit-subtitle" class="open-modal" title="{% trans "Modifier le sous-titre" %}">
                        {% trans "Ajoutez un sous-titreÂ !" %}
                    </a>
                {% endif %}
                {% crispy form_subtitle %}
            {% else %}
                <p class="subtitle">{{ subtitle }}</p>
            {% endif %}
            {% endspaceless %}
        </div>
    </div>
</div>
