<!DOCTYPE html>
<html class="writer-html5" lang="fr" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation du frontend &mdash; Documentation Zeste de Savoir dev</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Installation de LaTeX et de la template" href="extra-install-latex.html" />
    <link rel="prev" title="Installation de Elasticsearch (pour la recherche)" href="extra-install-es.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Zeste de Savoir
          </a>
              <div class="version">
                dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../guides.html">Guides pas-à-pas</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../install.html">Installation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install-docker.html">Installation dans Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-linux.html">Installation sous Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-osx.html">Installation sous macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-windows.html">Installation sous Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="extra-install-es.html">Installation de Elasticsearch (pour la recherche)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Installation du frontend</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation-de-node-js-et-yarn">Installation de Node.js et Yarn</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#verifier-que-les-bonnes-versions-sont-installees">Vérifier que les bonnes versions sont installées</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mise-a-jour-de-node-js-et-yarn">Mise à jour de Node.js et Yarn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installation-des-dependances-yarn">Installation des dépendances Yarn</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#utilisation-des-outils">Utilisation des outils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#presentation-de-gulp">Présentation de Gulp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#utilisation-de-gulp">Utilisation de Gulp</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nettoyage-des-outils">Nettoyage des outils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#desinstaller-les-dependances">Désinstaller les dépendances</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="extra-install-latex.html">Installation de LaTeX et de la <em>template</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="extra-zmd.html">Installation et utilisation de zmarkdown</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contribuer à Zeste de Savoir</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html"><em>Workflow</em> et détails pratiques</a></li>
<li class="toctree-l1"><a class="reference internal" href="../back-end.html">Le <em>back-end</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="../back-end-code.html">Documentation technique du <em>back-end</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="../front-end.html">Le <em>front-end</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">Makefile et autres outils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../delay-issue.html">Problème de lenteur lors du dev ?</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Zeste de Savoir</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../install.html">Installation</a> &raquo;</li>
      <li>Installation du frontend</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/install/extra-install-frontend.rst.txt" rel="nofollow"> Afficher la source de la page</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation-du-frontend">
<h1>Installation du frontend<a class="headerlink" href="#installation-du-frontend" title="Lien permanent vers ce titre"></a></h1>
<p>Vous voulez nous aider au développement du frontend ? Installez Node.js et Yarn grâce aux instructions qui suivent !</p>
<section id="installation-de-node-js-et-yarn">
<h2>Installation de Node.js et Yarn<a class="headerlink" href="#installation-de-node-js-et-yarn" title="Lien permanent vers ce titre"></a></h2>
<p>Le frontend de Zeste de Savoir repose sur la version de Node JS spécifiée dans <code class="docutils literal notranslate"><span class="pre">.nvmrc</span></code>. Vous pouvez installer la version adéquate de Node.js via <a class="reference external" href="https://nodejs.org/en/download/package-manager/">votre gestionnaire de paquet</a> (<code class="docutils literal notranslate"><span class="pre">apt</span></code>, <code class="docutils literal notranslate"><span class="pre">yum</span></code>, …) ou en téléchargeant une <a class="reference external" href="https://nodejs.org/en/download/">archive</a>.</p>
<p>Dans le cas où vous avez besoin de faire cohabiter sur votre système différentes versions de Node.js pour des projets différents, à l’instar de virtualenv ou rvm, il existe <a class="reference external" href="https://github.com/creationix/nvm">nvm</a> (Node Version Manager) qui permet d’installer plusieurs version de Node.js et de basculer d’une version à l’autre facilement.</p>
<p>Le gestionnaire de paquet <code class="docutils literal notranslate"><span class="pre">npm</span></code> (Node.js Package Manager) est fourni avec Node.js, mais nous préferons utiliser Yarn qui est plus rapide et plus sûr. Yarn n’est strictement nécessaire qu’en production mais nous recommandons également de s’en servir lors du développement. <a class="reference external" href="https://yarnpkg.com/fr/docs/install/">Installer Yarn</a>.</p>
<section id="verifier-que-les-bonnes-versions-sont-installees">
<h3>Vérifier que les bonnes versions sont installées<a class="headerlink" href="#verifier-que-les-bonnes-versions-sont-installees" title="Lien permanent vers ce titre"></a></h3>
<p>Pour vérifier que Node.js et yarn sont installés et que vous avez les bonnes versions (<code class="docutils literal notranslate"><span class="pre">X.Y.Z</span></code> désigne la version spécifiée dans <code class="docutils literal notranslate"><span class="pre">.nvmrc</span></code>) :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ node -v
vX.Y.Z
$ yarn -v
X.Y.Z
</pre></div>
</div>
<p>Si <code class="docutils literal notranslate"><span class="pre">yarn</span></code> n’est pas installé ou pas à jour, utilisez <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">i</span> <span class="pre">-g</span> <span class="pre">yarn</span></code>.</p>
<p>Si vous désirez utiliser <code class="docutils literal notranslate"><span class="pre">npm</span></code> à la place de <code class="docutils literal notranslate"><span class="pre">yarn</span></code>, vérifiez que vous avez la version 5 ou une plus récente.</p>
</section>
<section id="mise-a-jour-de-node-js-et-yarn">
<h3>Mise à jour de Node.js et Yarn<a class="headerlink" href="#mise-a-jour-de-node-js-et-yarn" title="Lien permanent vers ce titre"></a></h3>
<p>Pour Yarn, il suffit de le mettre à jour avec cette commande :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm install -g yarn
</pre></div>
</div>
<p>Pour ce qui est de Node.js, utilisez soit votre gestionnaire de paquet, soit nvm.</p>
</section>
<section id="installation-des-dependances-yarn">
<h3>Installation des dépendances Yarn<a class="headerlink" href="#installation-des-dependances-yarn" title="Lien permanent vers ce titre"></a></h3>
<p>L’installation de Gulp, ainsi que des différentes dépendances et bibliothèques, se fait via Yarn dans le répertoire du projet :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make install-front
</pre></div>
</div>
<p>Ou alors :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ yarn
</pre></div>
</div>
</section>
</section>
<section id="utilisation-des-outils">
<h2>Utilisation des outils<a class="headerlink" href="#utilisation-des-outils" title="Lien permanent vers ce titre"></a></h2>
<p>Vous avez installé les outils ? Voilà comment on s’en sert dans notre projet !</p>
<p><strong>Note :</strong> dans la suite de ce document, les utilisateurs d’OS X et de GNU/Linux préféreront utiliser <code class="docutils literal notranslate"><span class="pre">make</span></code>, les utilisateurs de Windows qui ne connaissent pas <code class="docutils literal notranslate"><span class="pre">make</span></code> préféreront utiliser <code class="docutils literal notranslate"><span class="pre">yarn</span></code> directement.</p>
<section id="presentation-de-gulp">
<h3>Présentation de Gulp<a class="headerlink" href="#presentation-de-gulp" title="Lien permanent vers ce titre"></a></h3>
<p>Gulp est un outil permettant d’automatiser les tâches liées au <em>front-end</em>. C’est une sorte de Makefile.</p>
</section>
<section id="utilisation-de-gulp">
<h3>Utilisation de Gulp<a class="headerlink" href="#utilisation-de-gulp" title="Lien permanent vers ce titre"></a></h3>
<p>Gulp se lance avec <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">run</span> <span class="pre">gulp</span> <span class="pre">--</span> <span class="pre">[tâche]</span></code> où <code class="docutils literal notranslate"><span class="pre">[tâche]</span></code> est la tâche à lancer.</p>
<section id="generer-les-fichiers-avec-build">
<h4>Générer les fichiers avec <code class="docutils literal notranslate"><span class="pre">build</span></code><a class="headerlink" href="#generer-les-fichiers-avec-build" title="Lien permanent vers ce titre"></a></h4>
<p>Saisissez la commande suivante (elle vous permet de générer les fichiers Web du site pour vous permettre de consulter Zeste de Savoir sur votre navigateur, en local) :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make build-front
</pre></div>
</div>
<p>Ou alors :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ yarn run build
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">build</span></code> permet de :</p>
<ul class="simple">
<li><p>minimiser les fichiers Javascript et les rassembler en un seul fichier ;</p></li>
<li><p>compiler les fichiers SCSS pour les transformer CSS ;</p></li>
<li><p>compresser les images et créer un sprite.</p></li>
</ul>
<p>Les fichiers générés sont disponibles dans le dossier <code class="docutils literal notranslate"><span class="pre">dist/</span></code> (un aperçu est disponible <a class="reference external" href="../front-end/arborescence-des-fichiers.html">ici</a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>C’est la tâche que vous utiliserez sûrement le plus souvent car vous devez la lancer à chaque modification
de <code class="docutils literal notranslate"><span class="pre">assets/</span></code> !</p>
</div>
<p>Si vos modifications n’apparaissent pas dans votre navigateur et que ce n’est pas dû à Gulp, pensez à vider le cache de votre navigateur !</p>
</section>
<section id="supprimer-les-fichiers-generes-avec-clean">
<h4>Supprimer les fichiers générés avec <code class="docutils literal notranslate"><span class="pre">clean</span></code><a class="headerlink" href="#supprimer-les-fichiers-generes-avec-clean" title="Lien permanent vers ce titre"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">clean</span></code> supprime les fichiers générés par <code class="docutils literal notranslate"><span class="pre">build</span></code> (il supprime simplement le dossier <code class="docutils literal notranslate"><span class="pre">dist/</span></code>).</p>
<p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean-front</span></code> ou <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">run</span> <span class="pre">clean</span></code></p>
</section>
<section id="verifier-le-code-avec-lint">
<h4>Vérifier le code avec <code class="docutils literal notranslate"><span class="pre">lint</span></code><a class="headerlink" href="#verifier-le-code-avec-lint" title="Lien permanent vers ce titre"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">lint</span></code> vérifie, par le biais de JSHint, la forme du code (indentation, doubles guillemets, etc). Si le code ne
respecte pas ces règles, le script va sortir une liste d’erreurs (<em>errors</em>) et/ou d’avertissements (<em>warnings</em>)
que vous devez corriger.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>L’outil d’intégration continue que nous utilisons, Travis CI, fait cette vérification à la création de chaque <em>pull
request</em> et sortira la liste des erreurs et des avertissements. Pour éviter d’attendre qu’il ait fini, il est plus
pratique pour vous (et nous) que vous lanciez cette commande en amont avec <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">lint-front</span></code> ou <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">run</span> <span class="pre">lint</span></code> (ou
<code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">lint</span></code>).</p>
</div>
</section>
<section id="coder-plus-simplement-avec-watch">
<h4>Coder plus simplement avec <code class="docutils literal notranslate"><span class="pre">watch</span></code><a class="headerlink" href="#coder-plus-simplement-avec-watch" title="Lien permanent vers ce titre"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">watch</span></code> surveille les fichiers SCSS et Javascript lance la tâche <code class="docutils literal notranslate"><span class="pre">build</span></code> dès qu’ils sont modifiés. C’est très utile pour le développement car ça permet de ne pas avoir à relancer <code class="docutils literal notranslate"><span class="pre">build</span></code> manuellement. Pour lancer cette commande, faites <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">watch-front</span></code> ou <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">run</span> <span class="pre">watch</span></code>. Pour arrêter cette commande, il suffit de presser <code class="docutils literal notranslate"><span class="pre">Ctrl+C</span></code>.</p>
<p>Si votre ordinateur n’est pas très puissant ou la commande <code class="docutils literal notranslate"><span class="pre">watch</span></code> est lente. Vous aurez besoin de l’option <code class="docutils literal notranslate"><span class="pre">--speed</span></code>. Cette option permet de désactiver les fonctions de parsing pour la prod. Ainsi <code class="docutils literal notranslate"><span class="pre">watch</span></code> a besoin de moins de CPU.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm run watch -- --speed
</pre></div>
</div>
<hr class="docutils" />
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p>Vous voulez en savoir plus ?
Venez voir <a class="reference external" href="../front-end.html">la documentation consacrée au front-end</a> ! ;)</p>
</div>
</section>
</section>
</section>
<section id="nettoyage-des-outils">
<h2>Nettoyage des outils<a class="headerlink" href="#nettoyage-des-outils" title="Lien permanent vers ce titre"></a></h2>
<section id="desinstaller-les-dependances">
<h3>Désinstaller les dépendances<a class="headerlink" href="#desinstaller-les-dependances" title="Lien permanent vers ce titre"></a></h3>
<p>Il suffit de supprimer le dossier <code class="docutils literal notranslate"><span class="pre">node_modules</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rm -r node_modules/.
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="extra-install-es.html" class="btn btn-neutral float-left" title="Installation de Elasticsearch (pour la recherche)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="extra-install-latex.html" class="btn btn-neutral float-right" title="Installation de LaTeX et de la template" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014-2022, Zeste de Savoir.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>