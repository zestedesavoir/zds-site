

<!DOCTYPE html>
<html class="writer-html5" lang="fr" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Les tutoriels v2 (ZEP12) (tutorialv2/) &mdash; Documentation Zeste de Savoir dev</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Les utilitaires (utils/)" href="utils.html" />
    <link rel="prev" title="La recherche (searchv2/)" href="searchv2.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Zeste de Savoir
          

          
          </a>

          
            
            
              <div class="version">
                dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../guides.html">Guides pas-à-pas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contribuer à Zeste de Savoir</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html"><em>Workflow</em> et détails pratiques</a></li>
<li class="toctree-l1"><a class="reference internal" href="../back-end.html">Le <em>back-end</em></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../back-end-code.html">Documentation technique du <em>back-end</em></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="arborescence-back.html">Arborescence du <em>back-end</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="featured.html">Les outils de mises en avant (<code class="docutils literal notranslate"><span class="pre">featured/</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="forum.html">Les forums (<code class="docutils literal notranslate"><span class="pre">forum/</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="gallery.html">Les galleries (<code class="docutils literal notranslate"><span class="pre">gallery/</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="member.html">Les membres (<code class="docutils literal notranslate"><span class="pre">member/</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pages.html">Les pages (<code class="docutils literal notranslate"><span class="pre">pages/</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="private-message.html">Les messages privés (<code class="docutils literal notranslate"><span class="pre">mp/</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchv2.html">La recherche (<code class="docutils literal notranslate"><span class="pre">searchv2/</span></code>)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Les tutoriels v2 (ZEP12) (<code class="docutils literal notranslate"><span class="pre">tutorialv2/</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#modeles-models">Modèles (<code class="docutils literal notranslate"><span class="pre">models/</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-zds.tutorialv2.models.database">Modèles de la base de donnée (<code class="docutils literal notranslate"><span class="pre">database.py</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-zds.tutorialv2.models.versioned">Modèles « versionnés » (<code class="docutils literal notranslate"><span class="pre">versioned.py</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-zds.tutorialv2.managers">Les managers (<code class="docutils literal notranslate"><span class="pre">managers.py</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-zds.tutorialv2.views">Les vues (<code class="docutils literal notranslate"><span class="pre">views/</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-zds.tutorialv2.mixins">Mixins (<code class="docutils literal notranslate"><span class="pre">mixins.py</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-zds.tutorialv2.forms">Les formulaires (<code class="docutils literal notranslate"><span class="pre">forms.py</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-zds.tutorialv2.utils">Les utilitaires (<code class="docutils literal notranslate"><span class="pre">utils.py</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-zds.tutorialv2.publication_utils">Les utilitaires de publication (<code class="docutils literal notranslate"><span class="pre">publication_utils.py</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-zds.tutorialv2.receivers">Les receveurs d’évènement bdd (<code class="docutils literal notranslate"><span class="pre">receivers.py</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Les utilitaires (<code class="docutils literal notranslate"><span class="pre">utils/</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../front-end.html">Le <em>front-end</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">Makefile et autres outils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../delay-issue.html">Problème de lenteur lors du dev ?</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Zeste de Savoir</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../back-end-code.html">Documentation technique du <em>back-end</em></a> &raquo;</li>
        
      <li>Les tutoriels v2 (ZEP12) (<code class="docutils literal notranslate"><span class="pre">tutorialv2/</span></code>)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/back-end-code/tutorialv2.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="les-tutoriels-v2-zep12-tutorialv2">
<h1><a class="toc-backref" href="#id1">Les tutoriels v2 (ZEP12) (<code class="docutils literal notranslate"><span class="pre">tutorialv2/</span></code>)</a><a class="headerlink" href="#les-tutoriels-v2-zep12-tutorialv2" title="Lien permanent vers ce titre">¶</a></h1>
<p>Module situé dans <code class="docutils literal notranslate"><span class="pre">zds/tutorialv2/</span></code>.</p>
<div class="contents topic" id="fichiers-documentes">
<p class="topic-title">Fichiers documentés :</p>
<ul class="simple">
<li><p><a class="reference internal" href="#les-tutoriels-v2-zep12-tutorialv2" id="id1">Les tutoriels v2 (ZEP12) (<code class="docutils literal notranslate"><span class="pre">tutorialv2/</span></code>)</a></p>
<ul>
<li><p><a class="reference internal" href="#modeles-models" id="id2">Modèles (<code class="docutils literal notranslate"><span class="pre">models/</span></code>)</a></p>
<ul>
<li><p><a class="reference internal" href="#module-zds.tutorialv2.models.database" id="id3">Modèles de la base de donnée (<code class="docutils literal notranslate"><span class="pre">database.py</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#module-zds.tutorialv2.models.versioned" id="id4">Modèles « versionnés » (<code class="docutils literal notranslate"><span class="pre">versioned.py</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#module-zds.tutorialv2.managers" id="id5">Les managers (<code class="docutils literal notranslate"><span class="pre">managers.py</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#module-zds.tutorialv2.views" id="id6">Les vues (<code class="docutils literal notranslate"><span class="pre">views/</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#module-zds.tutorialv2.mixins" id="id7">Mixins (<code class="docutils literal notranslate"><span class="pre">mixins.py</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#module-zds.tutorialv2.forms" id="id8">Les formulaires (<code class="docutils literal notranslate"><span class="pre">forms.py</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#module-zds.tutorialv2.utils" id="id9">Les utilitaires (<code class="docutils literal notranslate"><span class="pre">utils.py</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#module-zds.tutorialv2.publication_utils" id="id10">Les utilitaires de publication (<code class="docutils literal notranslate"><span class="pre">publication_utils.py</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#module-zds.tutorialv2.receivers" id="id11">Les receveurs d’évènement bdd (<code class="docutils literal notranslate"><span class="pre">receivers.py</span></code>)</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="modeles-models">
<h2><a class="toc-backref" href="#id2">Modèles (<code class="docutils literal notranslate"><span class="pre">models/</span></code>)</a><a class="headerlink" href="#modeles-models" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="module-zds.tutorialv2.models.database">
<span id="modeles-de-la-base-de-donnee-database-py"></span><h3><a class="toc-backref" href="#id3">Modèles de la base de donnée (<code class="docutils literal notranslate"><span class="pre">database.py</span></code>)</a><a class="headerlink" href="#module-zds.tutorialv2.models.database" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="py class">
<dt id="zds.tutorialv2.models.database.ContentContribution">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">ContentContribution</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.ContentContribution" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Content contributions</p>
<dl class="py exception">
<dt id="zds.tutorialv2.models.database.ContentContribution.DoesNotExist">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">DoesNotExist</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.ContentContribution.DoesNotExist" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.models.database.ContentContribution.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.ContentContribution.MultipleObjectsReturned" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.database.ContentContributionRole">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">ContentContributionRole</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.ContentContributionRole" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Contribution role of content</p>
<dl class="py exception">
<dt id="zds.tutorialv2.models.database.ContentContributionRole.DoesNotExist">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">DoesNotExist</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.ContentContributionRole.DoesNotExist" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.models.database.ContentContributionRole.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.ContentContributionRole.MultipleObjectsReturned" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.database.ContentReaction">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">ContentReaction</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.ContentReaction" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A comment written by any user about a PublishableContent they just read.</p>
<dl class="py exception">
<dt id="zds.tutorialv2.models.database.ContentReaction.DoesNotExist">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">DoesNotExist</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.ContentReaction.DoesNotExist" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.models.database.ContentReaction.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.ContentReaction.MultipleObjectsReturned" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.ContentReaction.get_absolute_url">
<code class="sig-name descname"><span class="pre">get_absolute_url</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.ContentReaction.get_absolute_url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Find the url to the reaction</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the url of the comment</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.database.ContentRead">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">ContentRead</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.ContentRead" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Small model which keeps track of the user viewing tutorials.</p>
<p>It remembers the PublishableContent they read and what was the last Note at that time.</p>
<dl class="py exception">
<dt id="zds.tutorialv2.models.database.ContentRead.DoesNotExist">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">DoesNotExist</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.ContentRead.DoesNotExist" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.models.database.ContentRead.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.ContentRead.MultipleObjectsReturned" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.ContentRead.save">
<code class="sig-name descname"><span class="pre">save</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force_insert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">using</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.ContentRead.save" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Save this model but check that if we have not a related note it is because the user is content author.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.database.ContentSuggestion">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">ContentSuggestion</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.ContentSuggestion" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Content suggestion</p>
<dl class="py exception">
<dt id="zds.tutorialv2.models.database.ContentSuggestion.DoesNotExist">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">DoesNotExist</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.ContentSuggestion.DoesNotExist" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.models.database.ContentSuggestion.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.ContentSuggestion.MultipleObjectsReturned" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.database.FakeChapter">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">FakeChapter</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chapter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_container</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.FakeChapter" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A simple class that is used by ES to index chapters, constructed from the containers.</p>
<p>In mapping, this class defines PublishedContent as its parent. Also, indexing is done by the parent.</p>
<p>Note that this class is only indexable, not updatable, since it does not maintain value of <code class="docutils literal notranslate"><span class="pre">es_already_indexed</span></code></p>
<dl class="py method">
<dt id="zds.tutorialv2.models.database.FakeChapter.get_es_document_as_bulk_action">
<code class="sig-name descname"><span class="pre">get_es_document_as_bulk_action</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'index'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.FakeChapter.get_es_document_as_bulk_action" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Overridden to handle parenting between chapter and PublishedContent</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.FakeChapter.get_es_document_type">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">get_es_document_type</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.FakeChapter.get_es_document_type" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>value of the <code class="docutils literal notranslate"><span class="pre">_type</span></code> field in the index</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.FakeChapter.get_es_mapping">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">get_es_mapping</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.FakeChapter.get_es_mapping" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Define mapping and parenting</p>
</dd></dl>

<dl class="py attribute">
<dt id="zds.tutorialv2.models.database.FakeChapter.parent_model">
<code class="sig-name descname"><span class="pre">parent_model</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.FakeChapter.parent_model" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#zds.tutorialv2.models.database.PublishedContent" title="zds.tutorialv2.models.database.PublishedContent"><code class="xref py py-class docutils literal notranslate"><span class="pre">zds.tutorialv2.models.database.PublishedContent</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.database.PickListOperation">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">PickListOperation</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staff_user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">canceler_user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_effective</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PickListOperation" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py exception">
<dt id="zds.tutorialv2.models.database.PickListOperation.DoesNotExist">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">DoesNotExist</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.PickListOperation.DoesNotExist" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.models.database.PickListOperation.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.PickListOperation.MultipleObjectsReturned" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PickListOperation.cancel">
<code class="sig-name descname"><span class="pre">cancel</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">canceler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autosave</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PickListOperation.cancel" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Cancel a decision
:param canceler: staff user
:param autosave: if <code class="docutils literal notranslate"><span class="pre">True</span></code> saves the modification</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PickListOperation.save">
<code class="sig-name descname"><span class="pre">save</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PickListOperation.save" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The “force_insert” and “force_update” parameters can be used to insist
that the « save » must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.database.PublicationEvent">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">PublicationEvent</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">published_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_of_processing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_requested</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublicationEvent" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py exception">
<dt id="zds.tutorialv2.models.database.PublicationEvent.DoesNotExist">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">DoesNotExist</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.PublicationEvent.DoesNotExist" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.models.database.PublicationEvent.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.PublicationEvent.MultipleObjectsReturned" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.database.PublishableContent">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">PublishableContent</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A publishable content.</p>
<p>A PublishableContent retains metadata about a content in database, such as</p>
<ul class="simple">
<li><p>authors, description, source (if the content comes from another website), subcategory, tags and licence ;</p></li>
<li><p>Thumbnail and gallery ;</p></li>
<li><p>Creation, publication and update date ;</p></li>
<li><p>Public, beta, validation and draft sha, for versioning ;</p></li>
<li><p>Comment support ;</p></li>
<li><p>Type, which is either <code class="docutils literal notranslate"><span class="pre">'ARTICLE'</span></code>, <code class="docutils literal notranslate"><span class="pre">'TUTORIAL'</span></code> or <code class="docutils literal notranslate"><span class="pre">'OPINION'</span></code></p></li>
</ul>
<dl class="py exception">
<dt id="zds.tutorialv2.models.database.PublishableContent.DoesNotExist">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">DoesNotExist</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.DoesNotExist" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.models.database.PublishableContent.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.MultipleObjectsReturned" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.add_tags">
<code class="sig-name descname"><span class="pre">add_tags</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag_collection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.add_tags" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Add all tags contained in <cite>tag_collection</cite> to this content.
If a tag is unknown, it is added to the system.
:param tag_collection: A collection of tags.
:type tag_collection: list</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.antispam">
<code class="sig-name descname"><span class="pre">antispam</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.antispam" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the user is allowed to post in an tutorial according to the SPAM_LIMIT_SECONDS value.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>user</strong> – the user to check antispam. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, current user is used.</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the user is not able to note (the elapsed time is not enough), <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.ensure_author_gallery">
<code class="sig-name descname"><span class="pre">ensure_author_gallery</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.ensure_author_gallery" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>ensure all authors subscribe to gallery</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.first_note">
<code class="sig-name descname"><span class="pre">first_note</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.first_note" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the first post of a topic, written by topic’s author, if any.</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p><a class="reference internal" href="#zds.tutorialv2.models.database.ContentReaction" title="zds.tutorialv2.models.database.ContentReaction">ContentReaction</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.first_publication_date">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">first_publication_date</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.first_publication_date" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>traverse PublishedContent instances to find the first ever published and get its date
:return: the first publication date
:rtype: datetime</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.first_unread_note">
<code class="sig-name descname"><span class="pre">first_unread_note</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.first_unread_note" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>Return the first note the user has unread.</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p><a class="reference internal" href="#zds.tutorialv2.models.database.ContentReaction" title="zds.tutorialv2.models.database.ContentReaction">ContentReaction</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.get_absolute_contact_url">
<code class="sig-name descname"><span class="pre">get_absolute_contact_url</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Collaboration'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.get_absolute_contact_url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get url to send a new PM for collaboration</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>title</strong> (<em>str</em>) – what is going to be in the title of the PM before the name of the content</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>url to the PM creation form</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.get_absolute_url_beta">
<code class="sig-name descname"><span class="pre">get_absolute_url_beta</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.get_absolute_url_beta" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>NOTE: it’s better to use the version contained in <cite>VersionedContent</cite>, if possible !</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>absolute URL to the beta version the content</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.get_absolute_url_online">
<code class="sig-name descname"><span class="pre">get_absolute_url_online</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.get_absolute_url_online" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>NOTE: it’s better to use the version contained in <cite>VersionedContent</cite>, if possible !</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>absolute URL to the public version the content, if <cite>self.public_version</cite> is defined</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.get_last_note">
<code class="sig-name descname"><span class="pre">get_last_note</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.get_last_note" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the last answer in the thread, if any.</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>ContentReaction|None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.get_note_count">
<code class="sig-name descname"><span class="pre">get_note_count</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.get_note_count" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Count all the reactions to this content. Warning, if you did not pre process this number,         a query will be sent</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>number of notes in the tutorial.</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.get_repo_path">
<code class="sig-name descname"><span class="pre">get_repo_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.get_repo_path" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the path to the tutorial repository</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>relative</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, the path will be relative, absolute otherwise.</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>physical path</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.in_beta">
<code class="sig-name descname"><span class="pre">in_beta</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.in_beta" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A tutorial is not in beta if sha_beta is <code class="docutils literal notranslate"><span class="pre">None</span></code> or empty</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the tutorial is in beta, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.in_drafting">
<code class="sig-name descname"><span class="pre">in_drafting</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.in_drafting" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A tutorial is not in draft if sha_draft is <code class="docutils literal notranslate"><span class="pre">None</span></code> or empty</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the tutorial is in draft, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.in_public">
<code class="sig-name descname"><span class="pre">in_public</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.in_public" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A tutorial is not in on line if sha_public is <code class="docutils literal notranslate"><span class="pre">None</span></code> or empty</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the tutorial is on line, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.in_validation">
<code class="sig-name descname"><span class="pre">in_validation</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.in_validation" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A tutorial is not in validation if sha_validation is <code class="docutils literal notranslate"><span class="pre">None</span></code> or empty</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the tutorial is in validation, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.insert_data_in_versioned">
<code class="sig-name descname"><span class="pre">insert_data_in_versioned</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">versioned</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.insert_data_in_versioned" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Insert some additional data from database in a VersionedContent</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>versioned</strong> – the VersionedContent to fill</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.is_beta">
<code class="sig-name descname"><span class="pre">is_beta</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sha</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.is_beta" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Is this version of the content the beta version ?</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>sha</strong> – version</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the tutorial is in beta, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.is_permanently_unpublished">
<code class="sig-name descname"><span class="pre">is_permanently_unpublished</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.is_permanently_unpublished" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Is this content permanently unpublished by a moderator ?</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.is_public">
<code class="sig-name descname"><span class="pre">is_public</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sha</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.is_public" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Is this version of the content the published version ?</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>sha</strong> – version</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the tutorial is in public, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.is_validation">
<code class="sig-name descname"><span class="pre">is_validation</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sha</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.is_validation" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Is this version of the content the validation version ?</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>sha</strong> – version</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the tutorial is in validation, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.last_read_note">
<code class="sig-name descname"><span class="pre">last_read_note</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.last_read_note" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the last post the user has read.</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p><a class="reference internal" href="#zds.tutorialv2.models.database.ContentReaction" title="zds.tutorialv2.models.database.ContentReaction">ContentReaction</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.load_version">
<code class="sig-name descname"><span class="pre">load_version</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.load_version" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Using git, load a specific version of the content. if <code class="docutils literal notranslate"><span class="pre">sha</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>,
the draft/public version is used (if <code class="docutils literal notranslate"><span class="pre">public</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>for practical reason, the returned object is filled with information from DB.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sha</strong> – version</p></li>
<li><p><strong>public</strong> (<a class="reference internal" href="#zds.tutorialv2.models.database.PublishedContent" title="zds.tutorialv2.models.database.PublishedContent"><em>PublishedContent</em></a>) – if set with the right object, return the public version</p></li>
</ul>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>BadObject</strong> – if sha is not None and related version could not be found</p></li>
<li><p><strong>OSError</strong> – if the path to the repository is wrong</p></li>
<li><p><a class="reference internal" href="#zds.tutorialv2.models.versioned.NotAPublicVersion" title="zds.tutorialv2.models.versioned.NotAPublicVersion"><strong>NotAPublicVersion</strong></a> – if the sha does not correspond to a public version</p></li>
</ul>
</dd>
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the versioned content</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p><a class="reference internal" href="#zds.tutorialv2.models.versioned.VersionedContent" title="zds.tutorialv2.models.versioned.VersionedContent">zds.tutorialv2.models.versioned.VersionedContent</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.load_version_or_404">
<code class="sig-name descname"><span class="pre">load_version_or_404</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.load_version_or_404" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Using git, load a specific version of the content. if <cite>sha</cite> is <cite>None</cite>, the draft/public version is used (if
<cite>public</cite> is <cite>True</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sha</strong> – version</p></li>
<li><p><strong>public</strong> (<a class="reference internal" href="#zds.tutorialv2.models.database.PublishedContent" title="zds.tutorialv2.models.database.PublishedContent"><em>PublishedContent</em></a>) – if set with the right object, return the public version</p></li>
</ul>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><p><strong>Http404</strong> – if sha is not None and related version could not be found</p>
</dd>
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the versioned content</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>zds.tutorialv2.models.versioned.ViersionedContent</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.repo_delete">
<code class="sig-name descname"><span class="pre">repo_delete</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.repo_delete" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Delete the entities and their filesystem counterparts</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.requires_validation">
<code class="sig-name descname"><span class="pre">requires_validation</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.requires_validation" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if content required a validation before publication.
Used to check if JsFiddle is available too.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>Whether validation is required before publication.</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.save">
<code class="sig-name descname"><span class="pre">save</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_slug_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.save" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Rewrite the <code class="docutils literal notranslate"><span class="pre">save()</span></code>  function to handle slug uniqueness</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>update_date</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code> will assign « update_date » property to now</p></li>
<li><p><strong>force_slug_update</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code> will try to update the slug</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishableContent.update">
<code class="sig-name descname"><span class="pre">update</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishableContent.update" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>wrapper arround <code class="docutils literal notranslate"><span class="pre">self.objects.update</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>fields</strong> – Fields to update</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>modified self</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.database.PublishedContent">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">PublishedContent</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A class that contains information on the published version of a content.</p>
<p>Used for quick url resolution, quick listing, and to know where the public version of the files are.</p>
<p>Linked to a <code class="docutils literal notranslate"><span class="pre">PublishableContent</span></code> for the rest. Don’t forget to add a <code class="docutils literal notranslate"><span class="pre">.prefetch_related('content')</span></code> !!</p>
<dl class="py exception">
<dt id="zds.tutorialv2.models.database.PublishedContent.DoesNotExist">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">DoesNotExist</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.DoesNotExist" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.models.database.PublishedContent.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.MultipleObjectsReturned" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_absolute_url_epub">
<code class="sig-name descname"><span class="pre">get_absolute_url_epub</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_absolute_url_epub" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>wrapper around <code class="docutils literal notranslate"><span class="pre">self.get_absolute_url_to_extra_content('epub')</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>URL to the epub version of the published content</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_absolute_url_html">
<code class="sig-name descname"><span class="pre">get_absolute_url_html</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_absolute_url_html" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>wrapper around <code class="docutils literal notranslate"><span class="pre">self.get_absolute_url_to_extra_content('html')</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>URL to the HTML version of the published content</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_absolute_url_md">
<code class="sig-name descname"><span class="pre">get_absolute_url_md</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_absolute_url_md" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>wrapper around <code class="docutils literal notranslate"><span class="pre">self.get_absolute_url_to_extra_content('md')</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>URL to the full markdown version of the published content</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_absolute_url_pdf">
<code class="sig-name descname"><span class="pre">get_absolute_url_pdf</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_absolute_url_pdf" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>wrapper around <code class="docutils literal notranslate"><span class="pre">self.get_absolute_url_to_extra_content('pdf')</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>URL to the PDF version of the published content</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_absolute_url_tex">
<code class="sig-name descname"><span class="pre">get_absolute_url_tex</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_absolute_url_tex" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>wrapper around <code class="docutils literal notranslate"><span class="pre">self.get_absolute_url_to_extra_content('tex')</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>URL to the tex version of the published content</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_absolute_url_to_extra_content">
<code class="sig-name descname"><span class="pre">get_absolute_url_to_extra_content</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_absolute_url_to_extra_content" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the url that point to the extra content the user may want to download</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>type</strong> (<em>str</em>) – the type inside allowed_type</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>URL to a given extra content (note that no check for existence is done)</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_absolute_url_zip">
<code class="sig-name descname"><span class="pre">get_absolute_url_zip</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_absolute_url_zip" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>wrapper around <code class="docutils literal notranslate"><span class="pre">self.get_absolute_url_to_extra_content('zip')</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>URL to the zip archive of the published content</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_char_count">
<code class="sig-name descname"><span class="pre">get_char_count</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md_file_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_char_count" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Compute the number of letters for a given content</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>md_file_path</strong> (<em>str</em>) – use another file to compute the number of letter rather than the default one.</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>Number of letters in the md file</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_es_django_indexable">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">get_es_django_indexable</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force_reindexing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_es_django_indexable" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Overridden to remove must_redirect=True (and prefetch stuffs).</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_es_document_source">
<code class="sig-name descname"><span class="pre">get_es_document_source</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">excluded_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_es_document_source" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Overridden to handle the fact that most information are versioned</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_es_indexable">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">get_es_indexable</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force_reindexing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_es_indexable" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Overridden to also include chapters</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_es_mapping">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">get_es_mapping</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_es_mapping" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Overridden to add pk into mapping.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>mapping object</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>elasticsearch_dsl.Mapping</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_extra_contents_directory">
<code class="sig-name descname"><span class="pre">get_extra_contents_directory</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_extra_contents_directory" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>path to all the “extra contents”</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_size_epub">
<code class="sig-name descname"><span class="pre">get_size_epub</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_size_epub" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the size of epub</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>size of file</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_size_file_type">
<code class="sig-name descname"><span class="pre">get_size_file_type</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_size_file_type" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the size of a given extra content.
Is the size is not in database we get it and store it for next time.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>size of file</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_size_html">
<code class="sig-name descname"><span class="pre">get_size_html</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_size_html" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the size of html</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>size of file</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_size_md">
<code class="sig-name descname"><span class="pre">get_size_md</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_size_md" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the size of md</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>size of file</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_size_pdf">
<code class="sig-name descname"><span class="pre">get_size_pdf</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_size_pdf" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the size of pdf</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>size of file</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_size_tex">
<code class="sig-name descname"><span class="pre">get_size_tex</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_size_tex" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the size of LaTeX file</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>size of file</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.get_size_zip">
<code class="sig-name descname"><span class="pre">get_size_zip</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.get_size_zip" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the size of zip</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>size of file</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.has_epub">
<code class="sig-name descname"><span class="pre">has_epub</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.has_epub" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the standard epub version of the content is available</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if available, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.has_html">
<code class="sig-name descname"><span class="pre">has_html</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.has_html" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the html version of the content is available</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if available, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.has_md">
<code class="sig-name descname"><span class="pre">has_md</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.has_md" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the flat markdown version of the content is available</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if available, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.has_pdf">
<code class="sig-name descname"><span class="pre">has_pdf</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.has_pdf" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the pdf version of the content is available</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if available, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.has_tex">
<code class="sig-name descname"><span class="pre">has_tex</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.has_tex" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the latex version of the content is available</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if available, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.has_type">
<code class="sig-name descname"><span class="pre">has_type</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.has_type" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>check if a given extra content exists</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the file exists, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwhise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.has_zip">
<code class="sig-name descname"><span class="pre">has_zip</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.has_zip" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the standard zip version of the content is available</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if available, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.is_exported">
<code class="sig-name descname"><span class="pre">is_exported</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.is_exported" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>If the content has at least one export, it returns <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.load_public_version">
<code class="sig-name descname"><span class="pre">load_public_version</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.load_public_version" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>zds.tutorialv2.models.database.PublicContent</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>the public content</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.load_public_version_or_404">
<code class="sig-name descname"><span class="pre">load_public_version_or_404</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.load_public_version_or_404" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the public content</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>zds.tutorialv2.models.database.PublicContent</p>
</dd>
<dt class="field-odd">Lève</dt>
<dd class="field-odd"><p><strong>Http404</strong> – if the version is not available</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.PublishedContent.meta_description">
<code class="sig-name descname"><span class="pre">meta_description</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.PublishedContent.meta_description" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Generate a description for the HTML tag &lt;meta name=”description”&gt;</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.database.Validation">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">Validation</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.Validation" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Content validation.</p>
<dl class="py exception">
<dt id="zds.tutorialv2.models.database.Validation.DoesNotExist">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">DoesNotExist</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.Validation.DoesNotExist" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.models.database.Validation.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span> </em><code class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></code><a class="headerlink" href="#zds.tutorialv2.models.database.Validation.MultipleObjectsReturned" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.Validation.is_accept">
<code class="sig-name descname"><span class="pre">is_accept</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.Validation.is_accept" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the content is accepted</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if status is accepted, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.Validation.is_cancel">
<code class="sig-name descname"><span class="pre">is_cancel</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.Validation.is_cancel" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the content is canceled</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if status is canceled, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.Validation.is_pending">
<code class="sig-name descname"><span class="pre">is_pending</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.Validation.is_pending" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the validation is pending</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if status is pending, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.Validation.is_pending_valid">
<code class="sig-name descname"><span class="pre">is_pending_valid</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.Validation.is_pending_valid" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the validation is pending (but there is a validator)</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if status is pending/valid, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.database.Validation.is_reject">
<code class="sig-name descname"><span class="pre">is_reject</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.Validation.is_reject" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the content is rejected</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if status is rejected, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.models.database.delete_gallery">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">delete_gallery</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.delete_gallery" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>catch the post_delete signal to ensure the deletion of the gallery (otherwise, you generate a loop)</p>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.models.database.delete_published_content_in_elasticsearch">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">delete_published_content_in_elasticsearch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.delete_published_content_in_elasticsearch" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Catch the pre_delete signal to ensure the deletion in ES. Also, handle the deletion of the corresponding
chapters.</p>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.models.database.delete_published_content_in_elasticsearch_if_set_to_redirect">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">delete_published_content_in_elasticsearch_if_set_to_redirect</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.delete_published_content_in_elasticsearch_if_set_to_redirect" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>If the slug of the content changes, the <code class="docutils literal notranslate"><span class="pre">must_redirect</span></code> field is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and a new
PublishedContnent is created. To avoid duplicates, the previous ones must be removed from ES.</p>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.models.database.delete_repo">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">delete_repo</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.delete_repo" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>catch the pre_delete signal to ensure the deletion of the repository if a PublishableContent is deleted</p>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.models.database.transfer_paternity_receiver">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.database.</span></code><code class="sig-name descname"><span class="pre">transfer_paternity_receiver</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.database.transfer_paternity_receiver" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>transfer paternity to external user on user deletion</p>
</dd></dl>

</div>
<div class="section" id="module-zds.tutorialv2.models.versioned">
<span id="modeles-versionnes-versioned-py"></span><h3><a class="toc-backref" href="#id4">Modèles « versionnés » (<code class="docutils literal notranslate"><span class="pre">versioned.py</span></code>)</a><a class="headerlink" href="#module-zds.tutorialv2.models.versioned" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="py class">
<dt id="zds.tutorialv2.models.versioned.Container">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.versioned.</span></code><code class="sig-name descname"><span class="pre">Container</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position_in_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A container, which can have sub-Containers or Extracts.</p>
<p>A Container has a title, a introduction and a conclusion, a parent (which can be None) and a position into this
parent (which is 1 by default).</p>
<p>It also has a tree depth.</p>
<p>A container could be either a tutorial/article/opinion, a part or a chapter.</p>
<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.add_container">
<code class="sig-name descname"><span class="pre">add_container</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_slug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.add_container" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Add a child Container, but only if no extract were previously added
and tree depth is lower than 2.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>This function will raise an Exception if the publication
is an article</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>container</strong> – the new container</p></li>
<li><p><strong>generate_slug</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, asks the top container a unique slug for this object</p></li>
</ul>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><p><a class="reference internal" href="#zds.tutorialv2.utils.InvalidOperationError" title="zds.tutorialv2.utils.InvalidOperationError"><strong>InvalidOperationError</strong></a> – if the new container cannot be added. Please use        <code class="docutils literal notranslate"><span class="pre">can_add_container</span></code> first to make sure you can use <code class="docutils literal notranslate"><span class="pre">add_container</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.add_extract">
<code class="sig-name descname"><span class="pre">add_extract</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extract</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_slug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.add_extract" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Add a child container, but only if no container were previously added</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extract</strong> – the new extract</p></li>
<li><p><strong>generate_slug</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, ask the top container a unique slug for this object</p></li>
</ul>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><p><a class="reference internal" href="#zds.tutorialv2.utils.InvalidOperationError" title="zds.tutorialv2.utils.InvalidOperationError"><strong>InvalidOperationError</strong></a> – if the extract can’t be added to this container.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.can_add_container">
<code class="sig-name descname"><span class="pre">can_add_container</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.can_add_container" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if this container accepts child containers, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.can_add_extract">
<code class="sig-name descname"><span class="pre">can_add_extract</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.can_add_extract" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if this container can contain extracts, i.e doesn’t
contain any container (only zero or more extracts) and is not
too deeply nested.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if this container accept child extract, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.can_be_in_beta">
<code class="sig-name descname"><span class="pre">can_be_in_beta</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.can_be_in_beta" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if content can be in beta.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>Whether content is in beta.</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.compute_hash">
<code class="sig-name descname"><span class="pre">compute_hash</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.compute_hash" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Compute an MD5 hash from the introduction and conclusion, for comparison purpose</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>MD5 hash</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_absolute_url">
<code class="sig-name descname"><span class="pre">get_absolute_url</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_absolute_url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>url to access the container</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_absolute_url_beta">
<code class="sig-name descname"><span class="pre">get_absolute_url_beta</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_absolute_url_beta" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>url to access the container in beta</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_absolute_url_online">
<code class="sig-name descname"><span class="pre">get_absolute_url_online</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_absolute_url_online" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the “online version” of the url</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_conclusion">
<code class="sig-name descname"><span class="pre">get_conclusion</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_conclusion" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the conclusion from the file in <code class="docutils literal notranslate"><span class="pre">self.conclusion</span></code></p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_conclusion_online">
<code class="sig-name descname"><span class="pre">get_conclusion_online</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_conclusion_online" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>The conclusion content for online version.</p>
<p>This method should be only used in templates</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the full text if introduction exists, empty string otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_delete_url">
<code class="sig-name descname"><span class="pre">get_delete_url</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_delete_url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>url to edit the container</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_edit_url">
<code class="sig-name descname"><span class="pre">get_edit_url</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_edit_url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>url to edit the container</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_introduction">
<code class="sig-name descname"><span class="pre">get_introduction</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_introduction" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the introduction from the file in <code class="docutils literal notranslate"><span class="pre">self.introduction</span></code></p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_introduction_online">
<code class="sig-name descname"><span class="pre">get_introduction_online</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_introduction_online" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>The introduction content for online version.</p>
<p>This method should be only used in templates</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the full text if introduction exists, empty string otherwise</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_last_child_position">
<code class="sig-name descname"><span class="pre">get_last_child_position</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_last_child_position" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the position of the last child</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_level_as_string">
<code class="sig-name descname"><span class="pre">get_level_as_string</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_level_as_string" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get a word (Part/Chapter/Section) for the container level</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>this deals with internationalized string</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>The string representation of this level</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_next_level_as_string">
<code class="sig-name descname"><span class="pre">get_next_level_as_string</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_next_level_as_string" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Same as <code class="docutils literal notranslate"><span class="pre">self.get_level_as_string()</span></code> but try to guess the level of this container’s children</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>The string representation of next level (upper)</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_path">
<code class="sig-name descname"><span class="pre">get_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">os_sensitive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_path" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the physical path to the draft version of the container.
Note: this function rely on the fact that the top container is VersionedContainer.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>relative</strong> (<em>bool</em>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, the path will be relative, absolute otherwise.</p></li>
<li><p><strong>os_sensitive</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code> will use os.path.join to ensure compatibility with all OS, otherwise will build with <code class="docutils literal notranslate"><span class="pre">/</span></code>, mainly for urls.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>physical path</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_prod_path">
<code class="sig-name descname"><span class="pre">get_prod_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'html'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_prod_path" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the physical path to the public version of the container. If the container have extracts, then it        returns the final HTML file.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_ext</strong> – the dumped file extension</p></li>
<li><p><strong>relative</strong> (<em>bool</em>) – return a relative path instead of an absolute one</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>physical path</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_tree_depth">
<code class="sig-name descname"><span class="pre">get_tree_depth</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_tree_depth" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return the depth where this container is found.</p>
<p>The tree depth of a container is the number of parents of that
container. It is always lower that 3 because a nested
container can have at most two parents.</p>
<p>Keep in mind that extracts can reach a depth of 3 in the
document tree since there are leaves. Containers are not
leaves.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>Tree depth</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_tree_level">
<code class="sig-name descname"><span class="pre">get_tree_level</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_tree_level" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return the level in the tree of this container, i.e the depth of its deepest child.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>tree level</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.get_unique_slug">
<code class="sig-name descname"><span class="pre">get_unique_slug</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.get_unique_slug" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Generate a slug from the title and check if it is already in slug
pool. If true, add a « -x » to the end, where « x » is a number
starting from 1. When generated, it is added to the slug pool.</p>
<p>Note that the slug cannot be larger than
<code class="docutils literal notranslate"><span class="pre">settings.ZDS_APP['content']['max_slug_size']</span></code>, due to maximum
file size limitation.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>title</strong> – title from which the slug is generated (with <code class="docutils literal notranslate"><span class="pre">slugify()</span></code>)</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>the unique slug</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.has_child_with_path">
<code class="sig-name descname"><span class="pre">has_child_with_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.has_child_with_path" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if this container has a child matching the given
full path.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>child_path</strong> – the full path (/maincontainer/subc1/subc2/childslug) we want to check</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the child is found, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.has_extracts">
<code class="sig-name descname"><span class="pre">has_extracts</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.has_extracts" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Note: This function relies on the fact that every child has the
same type.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the container contains extracts, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.has_sub_containers">
<code class="sig-name descname"><span class="pre">has_sub_containers</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.has_sub_containers" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Note: this function relies on the fact that every child has the
same type.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the container contains other containers, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.is_chapter">
<code class="sig-name descname"><span class="pre">is_chapter</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.is_chapter" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if the container level is Chapter</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>True if the container level is Chapter</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.is_validable">
<code class="sig-name descname"><span class="pre">is_validable</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.is_validable" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">true</span></code> if the container can be validate ie. (would be in the public version if
the content is validate.</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.long_slug">
<code class="sig-name descname"><span class="pre">long_slug</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.long_slug" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>a long slug which embeds parent slugs</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.move_child_after">
<code class="sig-name descname"><span class="pre">move_child_after</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child_slug</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refer_slug</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.move_child_after" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Change the child’s ordering by moving the child to be below the reference child.
This method <strong>does not</strong> automaticaly update the repo</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>child_slug</strong> – the child’s slug</p></li>
<li><p><strong>refer_slug</strong> – the referent child’s slug.</p></li>
</ul>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><p><strong>ValueError</strong> – if one slug does not refer to an existing child</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.move_child_before">
<code class="sig-name descname"><span class="pre">move_child_before</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child_slug</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refer_slug</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.move_child_before" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Change the child’s ordering by moving the child to be just above the reference child.
This method <strong>does not</strong> automaticaly update the repo.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>child_slug</strong> – the child’s slug</p></li>
<li><p><strong>refer_slug</strong> – the referent child’s slug.</p></li>
</ul>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><p><strong>ValueError</strong> – if one slug does not refer to an existing child</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.move_child_down">
<code class="sig-name descname"><span class="pre">move_child_down</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child_slug</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.move_child_down" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Change the child’s ordering by moving down the child whose slug equals child_slug.
This method <strong>does not</strong> automaticaly update the repo.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>child_slug</strong> – the child’s slug</p>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – if the slug does not refer to an existing child</p></li>
<li><p><strong>IndexError</strong> – if the extract is already the last child</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.move_child_up">
<code class="sig-name descname"><span class="pre">move_child_up</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child_slug</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.move_child_up" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Change the child’s ordering by moving up the child whose slug equals child_slug.
This method <strong>does not</strong> automaticaly update the repo.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>child_slug</strong> – the child’s slug</p>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – if the slug does not refer to an existing child</p></li>
<li><p><strong>IndexError</strong> – if the extract is already the first child</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.next_level_is_chapter">
<code class="sig-name descname"><span class="pre">next_level_is_chapter</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.next_level_is_chapter" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Same as <code class="docutils literal notranslate"><span class="pre">self.is_chapter()</span></code> but check the container’s children</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>True if the container next level is Chapter</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.publish_extracts">
<code class="sig-name descname"><span class="pre">publish_extracts</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_js</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">failure_exception</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.publish_extracts" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Publish the current element thanks to a templated view.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_dir</strong> – directory into which we will put the result</p></li>
<li><p><strong>is_js</strong> – jsfiddle activation flag</p></li>
<li><p><strong>template</strong> – templated view name</p></li>
<li><p><strong>failure_exception</strong> – the exception to throw when we fail</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.repo_add_container">
<code class="sig-name descname"><span class="pre">repo_add_container</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">introduction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conclusion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_commit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.repo_add_container" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> – title of the new container</p></li>
<li><p><strong>introduction</strong> – text of its introduction</p></li>
<li><p><strong>conclusion</strong> – text of its conclusion</p></li>
<li><p><strong>commit_message</strong> – commit message that will be used instead of the default one</p></li>
<li><p><strong>do_commit</strong> – perform the commit in repository if <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>commit sha</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.repo_add_extract">
<code class="sig-name descname"><span class="pre">repo_add_extract</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_commit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.repo_add_extract" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> – title of the new extract</p></li>
<li><p><strong>text</strong> – text of the new extract</p></li>
<li><p><strong>commit_message</strong> – commit message that will be used instead of the default one</p></li>
<li><p><strong>do_commit</strong> – perform the commit in repository if <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><strong>generate_slug</strong> – indicates that is must generate slug</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>commit sha</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.repo_delete">
<code class="sig-name descname"><span class="pre">repo_delete</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">commit_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_commit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.repo_delete" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>commit_message</strong> – commit message used instead of default one if provided</p></li>
<li><p><strong>do_commit</strong> – tells if we have to commit the change now or let the outer program do it</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>commit sha</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.repo_update">
<code class="sig-name descname"><span class="pre">repo_update</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">introduction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conclusion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_commit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_slug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.repo_update" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Update the container information and commit them into the repository</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> – the new title</p></li>
<li><p><strong>introduction</strong> – the new introduction text</p></li>
<li><p><strong>conclusion</strong> – the new conclusion text</p></li>
<li><p><strong>commit_message</strong> – commit message that will be used instead of the default one</p></li>
<li><p><strong>do_commit</strong> – perform the commit in repository if <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>commit sha</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.requires_validation">
<code class="sig-name descname"><span class="pre">requires_validation</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.requires_validation" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if content required a validation before publication.
Used to check if JsFiddle is available too.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>Whether validation is required before publication.</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.top_container">
<code class="sig-name descname"><span class="pre">top_container</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.top_container" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>Top container (for which parent is <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p><a class="reference internal" href="#zds.tutorialv2.models.versioned.VersionedContent" title="zds.tutorialv2.models.versioned.VersionedContent">VersionedContent</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.traverse">
<code class="sig-name descname"><span class="pre">traverse</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">only_container</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.traverse" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Traverse the container.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>only_container</strong> – if we only want container’s paths, not extract</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>a generator that traverse all the container recursively (depth traversal)</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>collections.Iterable[Container|Extract]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Container.update_children">
<code class="sig-name descname"><span class="pre">update_children</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Container.update_children" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Update the path for introduction and conclusion for the container and all its children. If the children is an
extract, update the path to the text instead. This function is useful when <code class="docutils literal notranslate"><span class="pre">self.slug</span></code> has
changed.</p>
<p>Note: this function does not account for a different arrangement of the files.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.versioned.Extract">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.versioned.</span></code><code class="sig-name descname"><span class="pre">Extract</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position_in_parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>A content extract from a Container.</p>
<p>It has a title, a position in the parent container and a text.</p>
<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.compute_hash">
<code class="sig-name descname"><span class="pre">compute_hash</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.compute_hash" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Compute an MD5 hash from the text, for comparison purpose</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>MD5 hash of the text</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.get_absolute_url">
<code class="sig-name descname"><span class="pre">get_absolute_url</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.get_absolute_url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Find the url that point to the offline version of this extract</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the url to access the tutorial offline</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.get_absolute_url_beta">
<code class="sig-name descname"><span class="pre">get_absolute_url_beta</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.get_absolute_url_beta" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the url to access the tutorial when in beta</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.get_absolute_url_online">
<code class="sig-name descname"><span class="pre">get_absolute_url_online</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.get_absolute_url_online" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the url to access the tutorial when online</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.get_delete_url">
<code class="sig-name descname"><span class="pre">get_delete_url</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.get_delete_url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>URL to delete the extract</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.get_edit_url">
<code class="sig-name descname"><span class="pre">get_edit_url</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.get_edit_url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>url to edit the extract</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.get_first_level_slug">
<code class="sig-name descname"><span class="pre">get_first_level_slug</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.get_first_level_slug" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the <code class="docutils literal notranslate"><span class="pre">first_level_slug</span></code>, if (and only if) the parent container is a chapter</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.get_full_slug">
<code class="sig-name descname"><span class="pre">get_full_slug</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.get_full_slug" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the slug of curent extract with its full path (part1/chapter1/slug_of_extract).</p>
<p>This method is an alias to <code class="docutils literal notranslate"><span class="pre">extract.get_path(True)[:-3]</span></code>
(removes the <code class="docutils literal notranslate"><span class="pre">.md</span></code> file extension).</p>
<dl class="field-list simple">
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.get_path">
<code class="sig-name descname"><span class="pre">get_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.get_path" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the physical path to the draft version of the extract.
:param relative: if <code class="docutils literal notranslate"><span class="pre">True</span></code>, the path will be relative, absolute otherwise.
:return: physical path
:rtype: str</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.get_text">
<code class="sig-name descname"><span class="pre">get_text</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.get_text" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>versioned text</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.get_tree_depth">
<code class="sig-name descname"><span class="pre">get_tree_depth</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.get_tree_depth" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return the depth where this extract is found.</p>
<p>The tree depth of an extract is the number of parents of that
extract. It is always lower that 4 because an extract can have
at most three parents.</p>
<p>Keep in mind that containers can’t reach a depth of 3 in the
document tree since there are not leaves.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>Tree depth</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.repo_delete">
<code class="sig-name descname"><span class="pre">repo_delete</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">commit_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_commit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.repo_delete" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>commit_message</strong> – commit message used instead of default one if provided</p></li>
<li><p><strong>do_commit</strong> – tells if we have to commit the change now or let the outer program do it</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>commit sha, None if no commit is done</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.Extract.repo_update">
<code class="sig-name descname"><span class="pre">repo_update</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_commit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.Extract.repo_update" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> – new title of the extract</p></li>
<li><p><strong>text</strong> – new text of the extract</p></li>
<li><p><strong>commit_message</strong> – commit message that will be used instead of the default one</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>commit sha</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.models.versioned.NotAPublicVersion">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.versioned.</span></code><code class="sig-name descname"><span class="pre">NotAPublicVersion</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.NotAPublicVersion" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Exception raised when a given version is not a public version as it should be</p>
</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.versioned.PublicContent">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.versioned.</span></code><code class="sig-name descname"><span class="pre">PublicContent</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.PublicContent" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>This is the public version of a VersionedContent, created from public repository</p>
</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.models.versioned.VersionedContent">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.models.versioned.</span></code><code class="sig-name descname"><span class="pre">VersionedContent</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug_repository</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>This class is used to handle a specific version of a tutorial.tutorial</p>
<p>It is created from the “manifest.json” file, and could dump information in it.</p>
<p>For simplicity, it also contains DB information (but cannot modified them!), filled at the creation.</p>
<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.change_child_directory">
<code class="sig-name descname"><span class="pre">change_child_directory</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adoptive_parent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.change_child_directory" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Move an element of this content to a new location.
This method changes the repository index and stage every change but does <strong>not</strong> commit.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>child</strong> – the child we want to move, can be either an Extract or a Container object</p></li>
<li><p><strong>adoptive_parent</strong> – the container where the child <em>will be</em> moved, must be a Container object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.commit_changes">
<code class="sig-name descname"><span class="pre">commit_changes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">commit_message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.commit_changes" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Commit change made to the repository</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>commit_message</strong> – The message that will appear in content history</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>commit sha</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.dump_json">
<code class="sig-name descname"><span class="pre">dump_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.dump_json" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Write the JSON into file</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>path</strong> – path to the file. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, write in “manifest.json”</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.get_absolute_url">
<code class="sig-name descname"><span class="pre">get_absolute_url</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.get_absolute_url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>url to access the container</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.get_absolute_url_beta">
<code class="sig-name descname"><span class="pre">get_absolute_url_beta</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.get_absolute_url_beta" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the url to access the tutorial when in beta</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.get_absolute_url_online">
<code class="sig-name descname"><span class="pre">get_absolute_url_online</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.get_absolute_url_online" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the url to access the content when online</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.get_json">
<code class="sig-name descname"><span class="pre">get_json</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.get_json" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>raw JSON file</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.get_list_of_chapters">
<code class="sig-name descname"><span class="pre">get_list_of_chapters</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.get_list_of_chapters" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>a list of chapters (Container which contains Extracts) in the reading order</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>list[<a class="reference internal" href="#zds.tutorialv2.models.versioned.Container" title="zds.tutorialv2.models.versioned.Container">Container</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.get_path">
<code class="sig-name descname"><span class="pre">get_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_current_slug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.get_path" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the physical path to the draft version of the Content.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>relative</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, the path will be relative, absolute otherwise.</p></li>
<li><p><strong>use_current_slug</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, use <code class="docutils literal notranslate"><span class="pre">self.slug</span></code> instead of <code class="docutils literal notranslate"><span class="pre">self.slug_last_draft</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>physical path</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.get_prod_path">
<code class="sig-name descname"><span class="pre">get_prod_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'html'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.get_prod_path" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the physical path to the public version of the content. If it
has one or more extracts (if it is a mini-tutorial or an
article), return the path of the HTML file.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>relative</strong> – return the relative path instead of the absolute one</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>physical path</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.repo_update_top_container">
<code class="sig-name descname"><span class="pre">repo_update_top_container</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">introduction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conclusion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_commit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.repo_update_top_container" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Update the top container information and commit them into the repository.
Note that this is slightly different from the <code class="docutils literal notranslate"><span class="pre">repo_update()</span></code> function, because slug is generated using DB</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> – the new title</p></li>
<li><p><strong>slug</strong> – the new slug, according to title (choose using DB!!)</p></li>
<li><p><strong>introduction</strong> – the new introduction text</p></li>
<li><p><strong>conclusion</strong> – the new conclusion text</p></li>
<li><p><strong>commit_message</strong> – commit message that will be used instead of the default one</p></li>
<li><p><strong>do_commit</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, also commit change</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>commit sha</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.models.versioned.VersionedContent.textual_type">
<code class="sig-name descname"><span class="pre">textual_type</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.models.versioned.VersionedContent.textual_type" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Create a internationalized string with the human readable type of this content e.g “The Article”</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>internationalized string</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-zds.tutorialv2.managers">
<span id="les-managers-managers-py"></span><h2><a class="toc-backref" href="#id5">Les managers (<code class="docutils literal notranslate"><span class="pre">managers.py</span></code>)</a><a class="headerlink" href="#module-zds.tutorialv2.managers" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="py class">
<dt id="zds.tutorialv2.managers.PublishableContentManager">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.managers.</span></code><code class="sig-name descname"><span class="pre">PublishableContentManager</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.managers.PublishableContentManager" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>…</p>
<dl class="py method">
<dt id="zds.tutorialv2.managers.PublishableContentManager.get_last_articles">
<code class="sig-name descname"><span class="pre">get_last_articles</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.managers.PublishableContentManager.get_last_articles" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="simple">
<dt>..attention:</dt><dd><p>this one uses a raw subquery for historical reasons. It will hopefully be replaced one day by an
ORM primitive.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>list of last articles expanded with “count_note” property that prefetches number of comments</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.managers.PublishableContentManager.get_last_opinions">
<code class="sig-name descname"><span class="pre">get_last_opinions</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.managers.PublishableContentManager.get_last_opinions" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>This depends on settings.ZDS_APP[“opinions”][“home_number”] parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>list of last opinions</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.managers.PublishableContentManager.get_last_tutorials">
<code class="sig-name descname"><span class="pre">get_last_tutorials</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.managers.PublishableContentManager.get_last_tutorials" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>get list of last published tutorial</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>number</strong> – number of tutorial you want. By default it is interpreted as         <code class="docutils literal notranslate"><span class="pre">settings.ZDS_APP['tutorial']['home_number']</span></code></p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>list of last published content</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.managers.PublishableContentManager.transfer_paternity">
<code class="sig-name descname"><span class="pre">transfer_paternity</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unregistered_user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacement_author</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gallery_class</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.managers.PublishableContentManager.transfer_paternity" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Erases or transfers the paternity of all publishable content owned by a user.         If a content has more than one author, the unregistering author simply leaves its author list,         otherwise their published content are sent to <code class="docutils literal notranslate"><span class="pre">replacement_author</span></code>,         unpublished content are deleted and their beta topics closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>unregistered_user</strong> – the user to be unregistered</p></li>
<li><p><strong>replacement_author</strong> – the new author</p></li>
<li><p><strong>gallery_class</strong> – the class to link tutorial with gallery (perhaps overkill :p)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.managers.ReactionManager">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.managers.</span></code><code class="sig-name descname"><span class="pre">ReactionManager</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.managers.ReactionManager" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Custom reaction manager.</p>
</dd></dl>

</div>
<div class="section" id="module-zds.tutorialv2.views">
<span id="les-vues-views"></span><h2><a class="toc-backref" href="#id6">Les vues (<code class="docutils literal notranslate"><span class="pre">views/</span></code>)</a><a class="headerlink" href="#module-zds.tutorialv2.views" title="Lien permanent vers ce titre">¶</a></h2>
</div>
<div class="section" id="module-zds.tutorialv2.mixins">
<span id="mixins-mixins-py"></span><h2><a class="toc-backref" href="#id7">Mixins (<code class="docutils literal notranslate"><span class="pre">mixins.py</span></code>)</a><a class="headerlink" href="#module-zds.tutorialv2.mixins" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="py class">
<dt id="zds.tutorialv2.mixins.ContentTypeMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">ContentTypeMixin</span></code><a class="headerlink" href="#zds.tutorialv2.mixins.ContentTypeMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>This class deals with the type of contents and fill context according to that</p>
</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.DoesNotRequireValidationFormViewMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">DoesNotRequireValidationFormViewMixin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.DoesNotRequireValidationFormViewMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ensure the content do not require validation before publication.</p>
<dl class="py method">
<dt id="zds.tutorialv2.mixins.DoesNotRequireValidationFormViewMixin.get_form_kwargs">
<code class="sig-name descname"><span class="pre">get_form_kwargs</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.DoesNotRequireValidationFormViewMixin.get_form_kwargs" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return the keyword arguments for instantiating the form.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.DownloadViewMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">DownloadViewMixin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.DownloadViewMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Basic View to return a file to download</p>
<p>(inspired from <a class="reference external" href="https://djangosnippets.org/snippets/2549/">https://djangosnippets.org/snippets/2549/</a> and
<a class="reference external" href="http://stackoverflow.com/questions/16286666/send-a-file-through-django-class-based-views">http://stackoverflow.com/questions/16286666/send-a-file-through-django-class-based-views</a>)</p>
<p>You just need to override <cite>get_contents()</cite> to make it works</p>
<dl class="py method">
<dt id="zds.tutorialv2.mixins.DownloadViewMixin.get">
<code class="sig-name descname"><span class="pre">get</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">response_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.DownloadViewMixin.get" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Access to a file with only get method then write the file content in response stream.
Properly sets Content-Type and Content-Disposition headers</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.FormWithPreview">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">FormWithPreview</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.FormWithPreview" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.mixins.FormWithPreview.post">
<code class="sig-name descname"><span class="pre">post</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.FormWithPreview.post" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Handle POST requests: instantiate a form instance with the passed
POST variables and then check if it’s valid.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.ModalFormView">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">ModalFormView</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.ModalFormView" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>If <cite>self.modal_form</cite> is set <cite>True</cite>, this class will ensure that the redirection is made to the previous page
if an error appear</p>
<dl class="py method">
<dt id="zds.tutorialv2.mixins.ModalFormView.form_invalid">
<code class="sig-name descname"><span class="pre">form_invalid</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">form</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.ModalFormView.form_invalid" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>If <cite>self.modal_form</cite> is set <cite>True</cite>, this function is rewritten to send back to the previous page
with an error message, instead of using the form template which is normally provided.</p>
<p>The redirection is made to <cite>form.previous_page_url</cite>, if exists, <cite>content:view</cite> otherwise.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.mixins.MustRedirect">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">MustRedirect</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.MustRedirect" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Exception raised when this is not the last version of the content which is called</p>
</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.RequiresValidationViewMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">RequiresValidationViewMixin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.RequiresValidationViewMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ensure the content require validation before publication.</p>
</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.SingleContentDetailViewMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">SingleContentDetailViewMixin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentDetailViewMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>This enhanced DetailView ensure,</p>
<ul class="simple">
<li><dl class="simple">
<dt>by rewriting <cite>get()</cite>, that:</dt><dd><ul>
<li><p><cite>self.object</cite> contains the result of <cite>get_object()</cite> (as it must be if <cite>get()</cite> is not rewritten)</p></li>
<li><p><cite>self.sha</cite> is set according to <cite>self.request.GET[“version”]</cite> (if any) and <cite>self.object.sha_draft</cite> otherwise</p></li>
<li><p><cite>self.versioned_object</cite> contains the results of <cite>get_versioned_object()</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>by surcharging <cite>get_context_data()</cite>, that</dt><dd><ul>
<li><p>context[“content”] contains <cite>self.versioned_object</cite></p></li>
<li><p>context[“can_edit”] is set</p></li>
<li><p>context[“version”] is set (if different from <cite>self.object.sha_draft</cite>)</p></li>
<li><p>context[“beta_topic”] is set (if any)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<dl class="py method">
<dt id="zds.tutorialv2.mixins.SingleContentDetailViewMixin.get_context_data">
<code class="sig-name descname"><span class="pre">get_context_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentDetailViewMixin.get_context_data" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Insert the single object into the context dict.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.SingleContentDownloadViewMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">SingleContentDownloadViewMixin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentDownloadViewMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Ensure, by rewritring <code class="docutils literal notranslate"><span class="pre">get()</span></code>, that
- <cite>self.object</cite> contains the result of <cite>get_object()</cite> (as it must be if <cite>get()</cite> is not rewritten)
- <cite>self.sha</cite> is set according to <cite>self.request.GET[“version”]</cite> (if any) and <cite>self.object.sha_draft</cite> otherwise
- <cite>self.versioned_object</cite> contains the results of <cite>get_versioned_object()</cite></p>
<dl class="py method">
<dt id="zds.tutorialv2.mixins.SingleContentDownloadViewMixin.get">
<code class="sig-name descname"><span class="pre">get</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">response_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentDownloadViewMixin.get" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Access to a file with only get method then write the file content in response stream.
Properly sets Content-Type and Content-Disposition headers</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.SingleContentFormViewMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">SingleContentFormViewMixin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentFormViewMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>This enhanced FormView ensure,</p>
<ul class="simple">
<li><dl class="simple">
<dt>by surcharging <cite>dispatch()</cite>, that:</dt><dd><ul>
<li><p><cite>self.object</cite> contains the result of <cite>get_object()</cite> (as for DetailView)</p></li>
<li><p><cite>self.versioned_object</cite> contains the results of <cite>get_versioned_object()</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>by surcharging <cite>get_context_data()</cite>, that</dt><dd><ul>
<li><p>context[“content”] contains <cite>self.versioned_object</cite></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<dl class="py method">
<dt id="zds.tutorialv2.mixins.SingleContentFormViewMixin.get_context_data">
<code class="sig-name descname"><span class="pre">get_context_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentFormViewMixin.get_context_data" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Insert the form into the context dict.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.SingleContentPostMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">SingleContentPostMixin</span></code><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentPostMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Base mixin used to get content from post query</p>
<dl class="py method">
<dt id="zds.tutorialv2.mixins.SingleContentPostMixin.get_object">
<code class="sig-name descname"><span class="pre">get_object</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queryset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentPostMixin.get_object" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get database representation of the content by its <cite>pk</cite>, then check permissions</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.SingleContentViewMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">SingleContentViewMixin</span></code><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentViewMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Base mixin to get only one content, and its corresponding versioned content</p>
<p>Deals with URL resolution in the following way:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>In <code class="docutils literal notranslate"><span class="pre">get_object()</span></code>:</dt><dd><ul class="simple">
<li><p>Fetch the <code class="docutils literal notranslate"><span class="pre">PublishableContent</span></code> according to <code class="docutils literal notranslate"><span class="pre">self.kwargs['pk']</span></code>, <code class="docutils literal notranslate"><span class="pre">self.request.GET['pk']</span></code> or         <code class="docutils literal notranslate"><span class="pre">self.request.POST['pk']</span></code> (one of these have to be defined). Raise <cite>Http404</cite> if any.</p></li>
<li><p>Then, check permissions with respect to <code class="docutils literal notranslate"><span class="pre">self.must_be_author</span></code> and <code class="docutils literal notranslate"><span class="pre">self.authorized_for_staff</span></code>          (and define <code class="docutils literal notranslate"><span class="pre">self.is_staff</span></code> and <code class="docutils literal notranslate"><span class="pre">self.is_author</span></code>). Raise <code class="docutils literal notranslate"><span class="pre">PermissionDenied</span></code> if any.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>In <code class="docutils literal notranslate"><span class="pre">get_versioned_object()</span></code>:</dt><dd><ul class="simple">
<li><p>Deal with sha : assume <code class="docutils literal notranslate"><span class="pre">self.object.sha_draft</span></code> by default, but reset according to         <code class="docutils literal notranslate"><span class="pre">self.request.GET['version']</span></code>, if exists.         Then, check <code class="docutils literal notranslate"><span class="pre">self.only_draft_version</span></code> and raise <code class="docutils literal notranslate"><span class="pre">PermissionDenied</span></code> if any</p></li>
<li><p>Fetch the <code class="docutils literal notranslate"><span class="pre">VersionedContent</span></code>. Due to  the use of <code class="docutils literal notranslate"><span class="pre">self.object.load_version_or_404(sha)</span></code>,        raise <code class="docutils literal notranslate"><span class="pre">Http404</span></code>.</p></li>
<li><p>Check if its the beta or public version, and allow access if it’s the case. Raise <code class="docutils literal notranslate"><span class="pre">PermissionDenied</span></code>.</p></li>
<li><p>Check slug if <code class="docutils literal notranslate"><span class="pre">self.kwargs['slug']</span></code> is defined. Raise <code class="docutils literal notranslate"><span class="pre">Http404</span></code> if any.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">get_public_object()</span></code>, fetch the last published version, if any</p></li>
</ol>
<p>Any redefinition of any of these two functions should take care of those points.</p>
<dl class="py method">
<dt id="zds.tutorialv2.mixins.SingleContentViewMixin.get_object">
<code class="sig-name descname"><span class="pre">get_object</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queryset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentViewMixin.get_object" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get database representation of the content by its <cite>pk</cite>, then check permissions</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.mixins.SingleContentViewMixin.get_public_object">
<code class="sig-name descname"><span class="pre">get_public_object</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentViewMixin.get_public_object" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get the published version, if any</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.mixins.SingleContentViewMixin.get_versioned_object">
<code class="sig-name descname"><span class="pre">get_versioned_object</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleContentViewMixin.get_versioned_object" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Gets the asked version of current content.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.SingleOnlineContentDetailViewMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">SingleOnlineContentDetailViewMixin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleOnlineContentDetailViewMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>This enhanced DetailView ensures,</p>
<ul class="simple">
<li><dl class="simple">
<dt>by rewriting <cite>get()</cite>, that:</dt><dd><ul>
<li><p><cite>self.object</cite> contains the result of <cite>get_object()</cite> (as it must be if <cite>get()</cite> was not rewritten)</p></li>
<li><p>Redirection is made if we catch <cite>MustRedirect</cite></p></li>
<li><p><cite>self.versioned_object</cite> contains a PublicContent object</p></li>
<li><p><cite>self.public_content_object</cite> contains a PublishedContent object</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>by surcharging <cite>get_context_data()</cite>, that</dt><dd><ul>
<li><p>context[“content”] is set</p></li>
<li><p>context[“is_staff”] is set</p></li>
<li><p>context[“can_edit”] is set</p></li>
<li><p>context[“public_object”] is set</p></li>
<li><p>context[“is_antispam”] is set</p></li>
<li><p>context[“db_content”] is set with the PublishableContent instance</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<dl class="py method">
<dt id="zds.tutorialv2.mixins.SingleOnlineContentDetailViewMixin.get_context_data">
<code class="sig-name descname"><span class="pre">get_context_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleOnlineContentDetailViewMixin.get_context_data" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Insert the single object into the context dict.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.SingleOnlineContentFormViewMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">SingleOnlineContentFormViewMixin</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleOnlineContentFormViewMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>This enhanced FormView ensure,</p>
<ul class="simple">
<li><dl class="simple">
<dt>by surcharging <cite>dispatch()</cite>, that:</dt><dd><ul>
<li><p><cite>self.public_content_object</cite> contains a PublishedContent object</p></li>
<li><p><cite>self.object</cite> contains the result of <cite>get_object()</cite> (as for DetailView)</p></li>
<li><p><cite>self.versioned_object</cite> contains the results of <cite>get_versioned_object()</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>by surcharging <cite>get_context_data()</cite>, that</dt><dd><ul>
<li><p>context[“content”] is set</p></li>
<li><p>context[“public_object”] is set</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Note: does not catch <cite>MustRedirect</cite>, so you should not use a <cite>slug</cite> with POST request</p>
<dl class="py method">
<dt id="zds.tutorialv2.mixins.SingleOnlineContentFormViewMixin.get_context_data">
<code class="sig-name descname"><span class="pre">get_context_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleOnlineContentFormViewMixin.get_context_data" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Insert the form into the context dict.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.mixins.SingleOnlineContentViewMixin">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.mixins.</span></code><code class="sig-name descname"><span class="pre">SingleOnlineContentViewMixin</span></code><a class="headerlink" href="#zds.tutorialv2.mixins.SingleOnlineContentViewMixin" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Base mixin to get only one content online content</p>
<p>Deals with URL resolution in the following way:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>In <cite>get_object()</cite>:</dt><dd><ul class="simple">
<li><p>Fetch the <code class="docutils literal notranslate"><span class="pre">PublicContent</span></code> according to <code class="docutils literal notranslate"><span class="pre">self.kwargs['pk']</span></code>, <code class="docutils literal notranslate"><span class="pre">self.request.GET['pk']</span></code> or         <code class="docutils literal notranslate"><span class="pre">self.request.POST['pk']</span></code> 0(one of these have to be defined). Raise <code class="docutils literal notranslate"><span class="pre">Http404</span></code> if any.</p></li>
<li><p>Check if <code class="docutils literal notranslate"><span class="pre">self.current_content_type</span></code> if defined, and use it if it’s the case</p></li>
<li><p>Check if <code class="docutils literal notranslate"><span class="pre">slug</span></code> is defined, also check object it if it’s the case</p></li>
<li><p>Then, define <code class="docutils literal notranslate"><span class="pre">self.is_staff</span></code> and <code class="docutils literal notranslate"><span class="pre">self.is_author</span></code>.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>In <code class="docutils literal notranslate"><span class="pre">get_versioned_object()</span></code>: Fetch the <code class="docutils literal notranslate"><span class="pre">VersionedContent</span></code>. Due to  the use of</dt><dd><p><code class="docutils literal notranslate"><span class="pre">self.public_content_object.load_public_version_or_404()</span></code>, raise <code class="docutils literal notranslate"><span class="pre">Http404</span></code> if any.</p>
</dd>
</dl>
</li>
</ol>
<p>Any redefinition of any of these two functions should take care of those points.</p>
<dl class="py method">
<dt id="zds.tutorialv2.mixins.SingleOnlineContentViewMixin.get_redirect_url">
<code class="sig-name descname"><span class="pre">get_redirect_url</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">public_version</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.mixins.SingleOnlineContentViewMixin.get_redirect_url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return the most recent url, based on the current public version</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zds.tutorialv2.forms">
<span id="les-formulaires-forms-py"></span><h2><a class="toc-backref" href="#id8">Les formulaires (<code class="docutils literal notranslate"><span class="pre">forms.py</span></code>)</a><a class="headerlink" href="#module-zds.tutorialv2.forms" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="py class">
<dt id="zds.tutorialv2.forms.AcceptValidationForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">AcceptValidationForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">validation</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.AcceptValidationForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.AskValidationForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">AskValidationForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.AskValidationForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.AskValidationForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.AskValidationForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.AuthorForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">AuthorForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.AuthorForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.AuthorForm.clean_username">
<code class="sig-name descname"><span class="pre">clean_username</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.AuthorForm.clean_username" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check every username and send it to the cleaned_data[“user”] list</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>a dictionary of all treated data with the users key added</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.forms.AuthorForm.is_valid">
<code class="sig-name descname"><span class="pre">is_valid</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.AuthorForm.is_valid" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return True if the form has no errors, or False otherwise.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.BetaForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">BetaForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data=None</span></em>, <em class="sig-param"><span class="pre">files=None</span></em>, <em class="sig-param"><span class="pre">auto_id='id_%s'</span></em>, <em class="sig-param"><span class="pre">prefix=None</span></em>, <em class="sig-param"><span class="pre">initial=None</span></em>, <em class="sig-param"><span class="pre">error_class=&lt;class</span> <span class="pre">'django.forms.utils.ErrorList'&gt;</span></em>, <em class="sig-param"><span class="pre">label_suffix=None</span></em>, <em class="sig-param"><span class="pre">empty_permitted=False</span></em>, <em class="sig-param"><span class="pre">field_order=None</span></em>, <em class="sig-param"><span class="pre">use_required_attribute=None</span></em>, <em class="sig-param"><span class="pre">renderer=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.BetaForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.CancelValidationForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">CancelValidationForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">validation</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.CancelValidationForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.CancelValidationForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.CancelValidationForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.ContainerForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">ContainerForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ContainerForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.ContentCompareStatsURLForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">ContentCompareStatsURLForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">urls</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ContentCompareStatsURLForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.ContentCompareStatsURLForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ContentCompareStatsURLForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.ContentForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">ContentForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ContentForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.ContentForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ContentForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.ContributionForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">ContributionForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ContributionForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.DoNotPickOpinionForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">DoNotPickOpinionForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.DoNotPickOpinionForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.DoNotPickOpinionForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.DoNotPickOpinionForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.forms.DoNotPickOpinionForm.is_valid">
<code class="sig-name descname"><span class="pre">is_valid</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.DoNotPickOpinionForm.is_valid" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return True if the form has no errors, or False otherwise.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.EditContentLicenseForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">EditContentLicenseForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">versioned_content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.EditContentLicenseForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.EditContentTagsForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">EditContentTagsForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.EditContentTagsForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.ExtractForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">ExtractForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ExtractForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.FormWithTitle">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">FormWithTitle</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data=None</span></em>, <em class="sig-param"><span class="pre">files=None</span></em>, <em class="sig-param"><span class="pre">auto_id='id_%s'</span></em>, <em class="sig-param"><span class="pre">prefix=None</span></em>, <em class="sig-param"><span class="pre">initial=None</span></em>, <em class="sig-param"><span class="pre">error_class=&lt;class</span> <span class="pre">'django.forms.utils.ErrorList'&gt;</span></em>, <em class="sig-param"><span class="pre">label_suffix=None</span></em>, <em class="sig-param"><span class="pre">empty_permitted=False</span></em>, <em class="sig-param"><span class="pre">field_order=None</span></em>, <em class="sig-param"><span class="pre">use_required_attribute=None</span></em>, <em class="sig-param"><span class="pre">renderer=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.FormWithTitle" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.FormWithTitle.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.FormWithTitle.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.ImportContentForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">ImportContentForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ImportContentForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.ImportContentForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ImportContentForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.ImportForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">ImportForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ImportForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.ImportForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ImportForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.ImportNewContentForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">ImportNewContentForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ImportNewContentForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.JsFiddleActivationForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">JsFiddleActivationForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.JsFiddleActivationForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.JsFiddleActivationForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.JsFiddleActivationForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.MoveElementForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">MoveElementForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.MoveElementForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.NoteEditForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">NoteEditForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.NoteEditForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.NoteForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">NoteForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reaction</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.NoteForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.NoteForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.NoteForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.PickOpinionForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">PickOpinionForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.PickOpinionForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.PromoteOpinionToArticleForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">PromoteOpinionToArticleForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.PromoteOpinionToArticleForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.PublicationForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">PublicationForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.PublicationForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>The publication form (used only for content without preliminary validation).</p>
<dl class="py method">
<dt id="zds.tutorialv2.forms.PublicationForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.PublicationForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.RejectValidationForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">RejectValidationForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">validation</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.RejectValidationForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.RejectValidationForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.RejectValidationForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.RemoveAuthorForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">RemoveAuthorForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.RemoveAuthorForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.RemoveAuthorForm.clean_username">
<code class="sig-name descname"><span class="pre">clean_username</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.RemoveAuthorForm.clean_username" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check every username and send it to the cleaned_data[“user”] list</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>a dictionary of all treated data with the users key added</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.RemoveContributionForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">RemoveContributionForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data=None</span></em>, <em class="sig-param"><span class="pre">files=None</span></em>, <em class="sig-param"><span class="pre">auto_id='id_%s'</span></em>, <em class="sig-param"><span class="pre">prefix=None</span></em>, <em class="sig-param"><span class="pre">initial=None</span></em>, <em class="sig-param"><span class="pre">error_class=&lt;class</span> <span class="pre">'django.forms.utils.ErrorList'&gt;</span></em>, <em class="sig-param"><span class="pre">label_suffix=None</span></em>, <em class="sig-param"><span class="pre">empty_permitted=False</span></em>, <em class="sig-param"><span class="pre">field_order=None</span></em>, <em class="sig-param"><span class="pre">use_required_attribute=None</span></em>, <em class="sig-param"><span class="pre">renderer=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.RemoveContributionForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.RemoveSuggestionForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">RemoveSuggestionForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data=None</span></em>, <em class="sig-param"><span class="pre">files=None</span></em>, <em class="sig-param"><span class="pre">auto_id='id_%s'</span></em>, <em class="sig-param"><span class="pre">prefix=None</span></em>, <em class="sig-param"><span class="pre">initial=None</span></em>, <em class="sig-param"><span class="pre">error_class=&lt;class</span> <span class="pre">'django.forms.utils.ErrorList'&gt;</span></em>, <em class="sig-param"><span class="pre">label_suffix=None</span></em>, <em class="sig-param"><span class="pre">empty_permitted=False</span></em>, <em class="sig-param"><span class="pre">field_order=None</span></em>, <em class="sig-param"><span class="pre">use_required_attribute=None</span></em>, <em class="sig-param"><span class="pre">renderer=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.RemoveSuggestionForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.ReviewerTypeModelChoiceField">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">ReviewerTypeModelChoiceField</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queryset</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'---------'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_choices_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ReviewerTypeModelChoiceField" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.ReviewerTypeModelChoiceField.label_from_instance">
<code class="sig-name descname"><span class="pre">label_from_instance</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ReviewerTypeModelChoiceField.label_from_instance" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Convert objects into strings and generate the labels for the choices
presented by this object. Subclasses can override this method to
customize the display of the choices.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.RevokeValidationForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">RevokeValidationForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.RevokeValidationForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.RevokeValidationForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.RevokeValidationForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.SearchSuggestionForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">SearchSuggestionForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.SearchSuggestionForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.ToggleHelpForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">ToggleHelpForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data=None</span></em>, <em class="sig-param"><span class="pre">files=None</span></em>, <em class="sig-param"><span class="pre">auto_id='id_%s'</span></em>, <em class="sig-param"><span class="pre">prefix=None</span></em>, <em class="sig-param"><span class="pre">initial=None</span></em>, <em class="sig-param"><span class="pre">error_class=&lt;class</span> <span class="pre">'django.forms.utils.ErrorList'&gt;</span></em>, <em class="sig-param"><span class="pre">label_suffix=None</span></em>, <em class="sig-param"><span class="pre">empty_permitted=False</span></em>, <em class="sig-param"><span class="pre">field_order=None</span></em>, <em class="sig-param"><span class="pre">use_required_attribute=None</span></em>, <em class="sig-param"><span class="pre">renderer=None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ToggleHelpForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.ToggleHelpForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.ToggleHelpForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.UnpickOpinionForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">UnpickOpinionForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.UnpickOpinionForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.UnpublicationForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">UnpublicationForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.UnpublicationForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.forms.WarnTypoForm">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.forms.</span></code><code class="sig-name descname"><span class="pre">WarnTypoForm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targeted</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.WarnTypoForm" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.forms.WarnTypoForm.clean">
<code class="sig-name descname"><span class="pre">clean</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.forms.WarnTypoForm.clean" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Hook for doing any extra form-wide cleaning after Field.clean() has been
called on every field. Any ValidationError raised by this method will
not be associated with a particular field; it will have a special-case
association with the field named “__all__”.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-zds.tutorialv2.utils">
<span id="les-utilitaires-utils-py"></span><h2><a class="toc-backref" href="#id9">Les utilitaires (<code class="docutils literal notranslate"><span class="pre">utils.py</span></code>)</a><a class="headerlink" href="#module-zds.tutorialv2.utils" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="py exception">
<dt id="zds.tutorialv2.utils.BadArchiveError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">BadArchiveError</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reason</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.BadArchiveError" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>The exception that is raised when a bad archive is sent</p>
</dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.utils.BadManifestError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">BadManifestError</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.BadManifestError" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>The exception that is raised when the manifest.json contains errors</p>
</dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.utils.InvalidOperationError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">InvalidOperationError</span></code><a class="headerlink" href="#zds.tutorialv2.utils.InvalidOperationError" title="Lien permanent vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.utils.InvalidSlugError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">InvalidSlugError</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.InvalidSlugError" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Error raised when a slug is invalid. Argument is the slug that cause the error.</p>
<p><code class="docutils literal notranslate"><span class="pre">source</span></code> can also be provided, being the sentence from witch the slug was generated, if any.
<code class="docutils literal notranslate"><span class="pre">had_source</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if the source is provided.</p>
</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.utils.NamedUrl">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">NamedUrl</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.NamedUrl" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.utils.NamedUrl.level">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">level</span></code><a class="headerlink" href="#zds.tutorialv2.utils.NamedUrl.level" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.utils.NamedUrl.name">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#zds.tutorialv2.utils.NamedUrl.name" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.utils.NamedUrl.url">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">url</span></code><a class="headerlink" href="#zds.tutorialv2.utils.NamedUrl.url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="zds.tutorialv2.utils.TooDeepContainerError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">TooDeepContainerError</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.TooDeepContainerError" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Exception used to represent the fact you can’t add a container to a level greater than two</p>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.all_is_string_appart_from_given_keys">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">all_is_string_appart_from_given_keys</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_representation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('children')</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.all_is_string_appart_from_given_keys" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>check all keys are string appart from the children key
:param dict_representation: the json decoded dictionary
:param keys: keys that do not need to be string
:type dict_representation: dict
:return:
:rtype: bool</p>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.check_slug">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">check_slug</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slug</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.check_slug" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>If the title is incorrect (only special chars so slug is empty).</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>slug</strong> (<em>str</em>) – slug to test</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p><cite>True</cite> if slug is valid, false otherwise</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.clone_repo">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">clone_repo</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.clone_repo" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Proxy to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">command</span></code>. Ensure directory are properly created</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_path</strong> – path of the repo to be cloned</p></li>
<li><p><strong>new_path</strong> – path of the target repo</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>the target repository encapsulated in a <code class="docutils literal notranslate"><span class="pre">GitPython</span></code> object.</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>Repo</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.default_slug_pool">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">default_slug_pool</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.default_slug_pool" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>initialize a slug pool with all forbidden name. basically <code class="docutils literal notranslate"><span class="pre">introduction</span></code> and <code class="docutils literal notranslate"><span class="pre">conclusion</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the forbidden slugs in the edition system</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.export_container">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">export_container</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.export_container" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Export a container to a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>container</strong> (<em>zds.tutorialv2.models.models_versioned.Container</em>) – the container</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>dictionary containing the information</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.export_content">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">export_content</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.export_content" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Export a content to dictionary in order to store them in a JSON file</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>content</strong> – content to be exported</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>dictionary containing the information</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.export_extract">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">export_extract</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extract</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.export_extract" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Export an extract to a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>extract</strong> – extract to export</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>dictionary containing the information</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.fill_containers_from_json">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">fill_containers_from_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_sub</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.fill_containers_from_json" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Function which call itself to fill container</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json_sub</strong> – dictionary from “manifest.json”</p></li>
<li><p><strong>parent</strong> – the container to fill</p></li>
</ul>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#zds.tutorialv2.utils.BadManifestError" title="zds.tutorialv2.utils.BadManifestError"><strong>BadManifestError</strong></a> – if the manifest is not well formed or the content’s type is not correct</p></li>
<li><p><strong>KeyError</strong> – if one mandatory key is missing</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.get_blob">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">get_blob</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.get_blob" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Return the data contained into a given file</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tree</strong> (<em>git.objects.tree.Tree</em>) – Git Tree object</p></li>
<li><p><strong>path</strong> (<em>str</em>) – Path to file</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>contains</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>bytearray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.get_commit_author">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">get_commit_author</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.get_commit_author" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>get a dictionary that represent the commit author with <code class="docutils literal notranslate"><span class="pre">author</span></code> and <code class="docutils literal notranslate"><span class="pre">comitter</span></code> key. If there is no users,
bot account pk is used.</p>
<dl class="field-list simple">
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>correctly formatted commit author for <code class="docutils literal notranslate"><span class="pre">repo.index.commit()</span></code></p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.get_content_from_json">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">get_content_from_json</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slug_last_draft</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_title_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">80</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hint_licence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.get_content_from_json" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Transform the JSON formated data into <code class="docutils literal notranslate"><span class="pre">VersionedContent</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json</strong> – JSON data from a <cite>manifest.json</cite> file</p></li>
<li><p><strong>sha</strong> – version</p></li>
<li><p><strong>slug_last_draft</strong> – the slug for draft marked version</p></li>
<li><p><strong>max_title_len</strong> – max str length for title</p></li>
<li><p><strong>public</strong> – the function will fill a PublicContent instead of a VersionedContent if <cite>True</cite></p></li>
<li><p><strong>hint_licence</strong> – avoid loading the licence if it is already the same as the one loaded</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>a Public/VersionedContent with all the information retrieved from JSON</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>zds.tutorialv2.models.versioned.VersionedContent|zds.tutorialv2.models.database.PublishedContent</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.get_target_tagged_tree">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">get_target_tagged_tree</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">movable_child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.get_target_tagged_tree" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Gets the tagged tree with deplacement availability</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>movable_child</strong> – the extract we want to move</p></li>
<li><p><strong>root</strong> – the VersionedContent we use as root</p></li>
</ul>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>tuple</p>
</dd>
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>an array of tuples that represent the capacity of movable_child to be moved near another child    check get_target_tagged_tree_for_extract and get_target_tagged_tree_for_container for format</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.get_target_tagged_tree_for_container">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">get_target_tagged_tree_for_container</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">movable_child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.get_target_tagged_tree_for_container" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Gets the tagged tree with displacement availability when movable_child is an extract</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>movable_child</strong> – the container we want to move</p></li>
<li><p><strong>root</strong> – the VersionedContent we use as root</p></li>
<li><p><strong>bias</strong> – a negative or zero integer that represent the level bias. A value of -1 (default) represent    the fact that we want to make the <em>movable_child</em> <strong>a sibling</strong> of the tagged child, a value of 0 that we want    to make it a sub child.</p></li>
</ul>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>tuple</p>
</dd>
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>an array of tuples that represent the capacity of movable_child to be moved near another child    extracts are not included</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.get_target_tagged_tree_for_extract">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">get_target_tagged_tree_for_extract</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">movable_child</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.get_target_tagged_tree_for_extract" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Gets the tagged tree with displacement availability when movable_child is an extract</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>movable_child</strong> – the extract we want to move</p></li>
<li><p><strong>root</strong> – the VersionedContent we use as root</p></li>
</ul>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>tuple</p>
</dd>
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>an array of tuples that represent the capacity of movable_child to be moved near another child    tuples are <code class="docutils literal notranslate"><span class="pre">(relative_path,</span> <span class="pre">title,</span> <span class="pre">level,</span> <span class="pre">can_be_a_target)</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.init_new_repo">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">init_new_repo</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">introduction_text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conclusion_text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_commit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.init_new_repo" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Create a new repository in <code class="docutils literal notranslate"><span class="pre">settings.ZDS_APP['contents']['private_repo']</span></code>     to store the files for a new content. Note that <code class="docutils literal notranslate"><span class="pre">db_object.sha_draft</span></code> will be set to the good value</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db_object</strong> – <cite>PublishableContent</cite> (WARNING: should have a valid <code class="docutils literal notranslate"><span class="pre">slug</span></code>, so previously saved)</p></li>
<li><p><strong>introduction_text</strong> – introduction from form</p></li>
<li><p><strong>conclusion_text</strong> – conclusion from form</p></li>
<li><p><strong>commit_message</strong> – set a commit message instead of the default one</p></li>
<li><p><strong>do_commit</strong> – perform commit if <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">VersionedContent</span></code> object</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p><a class="reference internal" href="#zds.tutorialv2.models.versioned.VersionedContent" title="zds.tutorialv2.models.versioned.VersionedContent">zds.tutorialv2.models.versioned.VersionedContent</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.mark_read">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">mark_read</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.mark_read" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Mark the last tutorial note as read for the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> – the content to mark</p></li>
<li><p><strong>user</strong> – user that read the content, if <code class="docutils literal notranslate"><span class="pre">None</span></code> will use currrent user</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.never_read">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">never_read</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.never_read" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Check if a content note feed has been read by a user since its last post was added.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<a class="reference internal" href="#zds.tutorialv2.models.database.PublishableContent" title="zds.tutorialv2.models.database.PublishableContent"><em>zds.tutorialv2.models.database.PublishableContent</em></a>) – the content to check</p></li>
<li><p><strong>user</strong> (<em>zds.member.models.User</em>) – the user to test, if None, gets the current request user</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the user never read this content’s reactions, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.normalize_unicode_url">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">normalize_unicode_url</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unicode_url</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.normalize_unicode_url" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Sometimes you get an URL by a user that just isn’t a real URL
because it contains unsafe characters like “β” and so on.  This
function can fix some of the problems in a similar way browsers
handle data entered by the user:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">normalize_unicode_url</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;http://de.wikipedia.org/wiki/Elf (Begriffsklärung)&#39;</span><span class="p">)</span>
<span class="c1"># &#39;http://de.wikipedia.org/wiki/Elf%20%28Begriffskl%C3%A4rung%29&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>charset</strong> – The target charset for the URL if the url was
given as unicode string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.search_container_or_404">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">search_container_or_404</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_array</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.search_container_or_404" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_content</strong> – the base Publishable content we will use to retrieve the container</p></li>
<li><p><strong>kwargs_array</strong> – an array that may contain <cite>parent_container_slug</cite> and <cite>container_slug</cite> keys    or the string representation</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>the Container object we were searching for</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p><a class="reference internal" href="#zds.tutorialv2.models.versioned.Container" title="zds.tutorialv2.models.versioned.Container">zds.tutorialv2.models.versioned.Container</a></p>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><p><strong>Http404</strong> – if no suitable container is found</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.search_extract_or_404">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">search_extract_or_404</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_array</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.search_extract_or_404" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_content</strong> – the base Publishable content we will use to retrieve the container</p></li>
<li><p><strong>kwargs_array</strong> – an array that may contain <cite>parent_container_slug</cite> and <cite>container_slug</cite> and MUST contains    <code class="docutils literal notranslate"><span class="pre">extract_slug</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>the Extract object</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p><a class="reference internal" href="#zds.tutorialv2.models.versioned.Extract" title="zds.tutorialv2.models.versioned.Extract">zds.tutorialv2.models.versioned.Extract</a></p>
</dd>
<dt class="field-even">Raise</dt>
<dd class="field-even"><p>Http404 if not found</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.slugify_raise_on_invalid">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">slugify_raise_on_invalid</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_old_slugify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.slugify_raise_on_invalid" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>use uuslug to generate a slug but if the title is incorrect (only special chars or slug is empty), an exception
is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> (<em>str</em>) – to be slugified title</p></li>
<li><p><strong>use_old_slugify</strong> (<em>bool</em>) – use the function <cite>slugify()</cite> defined in zds.utils instead of the one in uuslug. Usefull     for retro-compatibility with the old article/tutorial module, SHOULD NOT be used for the new one !</p></li>
</ul>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><p><a class="reference internal" href="#zds.tutorialv2.utils.InvalidSlugError" title="zds.tutorialv2.utils.InvalidSlugError"><strong>InvalidSlugError</strong></a> – on incorrect slug</p>
</dd>
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the slugified title</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.utils.try_adopt_new_child">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.utils.</span></code><code class="sig-name descname"><span class="pre">try_adopt_new_child</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adoptive_parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.utils.try_adopt_new_child" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Try the adoptive parent to take the responsability of the child
:param adoptive_parent: the new parent for child if all check pass
:param child: content child to be moved
:raise Http404: if adoptive_parent_full_path is not found on root hierarchy
:raise TypeError: if the adoptive parent is not allowed to adopt the child due to its type
:raise TooDeepContainerError: if the child is a container that is too deep to be adopted by the proposed parent</p>
</dd></dl>

</div>
<div class="section" id="module-zds.tutorialv2.publication_utils">
<span id="les-utilitaires-de-publication-publication-utils-py"></span><h2><a class="toc-backref" href="#id10">Les utilitaires de publication (<code class="docutils literal notranslate"><span class="pre">publication_utils.py</span></code>)</a><a class="headerlink" href="#module-zds.tutorialv2.publication_utils" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="py exception">
<dt id="zds.tutorialv2.publication_utils.FailureDuringPublication">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">FailureDuringPublication</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.FailureDuringPublication" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Exception raised if something goes wrong during publication process</p>
</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.publication_utils.MarkdownPublicator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">MarkdownPublicator</span></code><a class="headerlink" href="#zds.tutorialv2.publication_utils.MarkdownPublicator" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.publication_utils.MarkdownPublicator.publish">
<code class="sig-name descname"><span class="pre">publish</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cur_language</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">versioned</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.MarkdownPublicator.publish" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Function called to generate a content export</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md_file_path</strong> – base markdown file path</p></li>
<li><p><strong>base_name</strong> – file name without extension</p></li>
<li><p><strong>kwargs</strong> – other publicator dependent options</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.publication_utils.Publicator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">Publicator</span></code><a class="headerlink" href="#zds.tutorialv2.publication_utils.Publicator" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Publicator base object, all methods must be overridden</p>
<dl class="py method">
<dt id="zds.tutorialv2.publication_utils.Publicator.get_published_content_entity">
<code class="sig-name descname"><span class="pre">get_published_content_entity</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md_file_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.Publicator.get_published_content_entity" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Retrieve the db entity from mdfile path</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>md_file_path</strong> (<em>str</em>) – mdfile path as string</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>the db entity</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>zds.tutorialv2.models.models_database.PublishedContent</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.publication_utils.Publicator.publish">
<code class="sig-name descname"><span class="pre">publish</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.Publicator.publish" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Function called to generate a content export</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md_file_path</strong> – base markdown file path</p></li>
<li><p><strong>base_name</strong> – file name without extension</p></li>
<li><p><strong>kwargs</strong> – other publicator dependent options</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.publication_utils.PublicatorRegistry">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">PublicatorRegistry</span></code><a class="headerlink" href="#zds.tutorialv2.publication_utils.PublicatorRegistry" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Register all publicator as a “human-readable name/publicator” instance key/value list</p>
<dl class="py method">
<dt id="zds.tutorialv2.publication_utils.PublicatorRegistry.get">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">get</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.PublicatorRegistry.get" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Get publicator named “name”.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>name</strong> – </p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p>the wanted publicator</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p><a class="reference internal" href="#zds.tutorialv2.publication_utils.Publicator" title="zds.tutorialv2.publication_utils.Publicator">Publicator</a></p>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><p><strong>KeyError</strong> – if publicator is not registered</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.publication_utils.PublicatorRegistry.get_all_registered">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">get_all_registered</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.PublicatorRegistry.get_all_registered" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="simple">
<dt>Args:</dt><dd><p>exclude: A list of excluded publicator</p>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt id="zds.tutorialv2.publication_utils.PublicatorRegistry.unregister">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">unregister</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.PublicatorRegistry.unregister" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Remove registered Publicator named “name” if present</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>name</strong> – publicator name.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.publication_utils.WatchdogFilePublicator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">WatchdogFilePublicator</span></code><a class="headerlink" href="#zds.tutorialv2.publication_utils.WatchdogFilePublicator" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.publication_utils.WatchdogFilePublicator.publish">
<code class="sig-name descname"><span class="pre">publish</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silently_pass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.WatchdogFilePublicator.publish" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Function called to generate a content export</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md_file_path</strong> – base markdown file path</p></li>
<li><p><strong>base_name</strong> – file name without extension</p></li>
<li><p><strong>kwargs</strong> – other publicator dependent options</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.publication_utils.ZMarkdownEpubPublicator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">ZMarkdownEpubPublicator</span></code><a class="headerlink" href="#zds.tutorialv2.publication_utils.ZMarkdownEpubPublicator" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.publication_utils.ZMarkdownEpubPublicator.publish">
<code class="sig-name descname"><span class="pre">publish</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.ZMarkdownEpubPublicator.publish" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Function called to generate a content export</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md_file_path</strong> – base markdown file path</p></li>
<li><p><strong>base_name</strong> – file name without extension</p></li>
<li><p><strong>kwargs</strong> – other publicator dependent options</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.publication_utils.ZMarkdownRebberLatexPublicator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">ZMarkdownRebberLatexPublicator</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.pdf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latex_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.ZMarkdownRebberLatexPublicator" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Use zmarkdown and rebber stringifier to produce latex &amp; pdf output.</p>
<dl class="py method">
<dt id="zds.tutorialv2.publication_utils.ZMarkdownRebberLatexPublicator.publish">
<code class="sig-name descname"><span class="pre">publish</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.ZMarkdownRebberLatexPublicator.publish" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Function called to generate a content export</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md_file_path</strong> – base markdown file path</p></li>
<li><p><strong>base_name</strong> – file name without extension</p></li>
<li><p><strong>kwargs</strong> – other publicator dependent options</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.publication_utils.ZipPublicator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">ZipPublicator</span></code><a class="headerlink" href="#zds.tutorialv2.publication_utils.ZipPublicator" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.publication_utils.ZipPublicator.publish">
<code class="sig-name descname"><span class="pre">publish</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.ZipPublicator.publish" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Function called to generate a content export</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md_file_path</strong> – base markdown file path</p></li>
<li><p><strong>base_name</strong> – file name without extension</p></li>
<li><p><strong>kwargs</strong> – other publicator dependent options</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="zds.tutorialv2.publication_utils.ZmarkdownHtmlPublicator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">ZmarkdownHtmlPublicator</span></code><a class="headerlink" href="#zds.tutorialv2.publication_utils.ZmarkdownHtmlPublicator" title="Lien permanent vers cette définition">¶</a></dt>
<dd><dl class="py method">
<dt id="zds.tutorialv2.publication_utils.ZmarkdownHtmlPublicator.publish">
<code class="sig-name descname"><span class="pre">publish</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.ZmarkdownHtmlPublicator.publish" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Function called to generate a content export</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md_file_path</strong> – base markdown file path</p></li>
<li><p><strong>base_name</strong> – file name without extension</p></li>
<li><p><strong>kwargs</strong> – other publicator dependent options</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.publication_utils.close_article_beta">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">close_article_beta</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">versioned</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.close_article_beta" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Close forum topic of an article if the artcle was in beta.
:param db_object: the article
:type db_object: zds.tutorialv2.models.database.PublishableContent
:param versioned: the public version of article, used to pupulate closing post
:type versioned: zds.tutorialv2.models.versioned.VersionedContent
:param user: the current user
:param request: the current request</p>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.publication_utils.generate_external_content">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">generate_external_content</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_contents_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">md_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overload_settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excluded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.generate_external_content" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>generate all static file that allow offline access to content</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_name</strong> – base nae of file (without extension)</p></li>
<li><p><strong>extra_contents_path</strong> – internal directory where all files will be pushed</p></li>
<li><p><strong>md_file_path</strong> – bundled markdown file path</p></li>
<li><p><strong>overload_settings</strong> – this option force the function to generate all registered formats even when settings     ask for PDF not to be published</p></li>
<li><p><strong>excluded</strong> – list of excluded format, None if no exclusion</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.publication_utils.make_zip_file">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">make_zip_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">published_content</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.make_zip_file" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Create the zip archive extra content from the published content</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><p><strong>published_content</strong> – a PublishedContent object</p>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.publication_utils.publish_content">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">publish_content</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">versioned</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_major_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.publish_content" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Publish a given content.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>create a manifest.json without the introduction and conclusion if not needed. Also remove the “text” field
of extracts.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db_object</strong> (<a class="reference internal" href="#zds.tutorialv2.models.database.PublishableContent" title="zds.tutorialv2.models.database.PublishableContent"><em>zds.tutorialv2.models.database.PublishableContent</em></a>) – Database representation of the content</p></li>
<li><p><strong>versioned</strong> (<a class="reference internal" href="#zds.tutorialv2.models.versioned.VersionedContent" title="zds.tutorialv2.models.versioned.VersionedContent"><em>zds.tutorialv2.models.versioned.VersionedContent</em></a>) – version of the content to publish</p></li>
<li><p><strong>is_major_update</strong> (<em>bool</em>) – if set to <cite>True</cite>, will update the publication date</p></li>
</ul>
</dd>
<dt class="field-even">Lève</dt>
<dd class="field-even"><p><a class="reference internal" href="#zds.tutorialv2.publication_utils.FailureDuringPublication" title="zds.tutorialv2.publication_utils.FailureDuringPublication"><strong>FailureDuringPublication</strong></a> – if something goes wrong</p>
</dd>
<dt class="field-odd">Renvoie</dt>
<dd class="field-odd"><p>the published representation</p>
</dd>
<dt class="field-even">Type renvoyé</dt>
<dd class="field-even"><p><a class="reference internal" href="#zds.tutorialv2.models.database.PublishedContent" title="zds.tutorialv2.models.database.PublishedContent">zds.tutorialv2.models.database.PublishedContent</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.publication_utils.save_validation_state">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">save_validation_state</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_update</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">published</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#zds.tutorialv2.models.database.PublishedContent" title="zds.tutorialv2.models.database.PublishedContent"><span class="pre">zds.tutorialv2.models.database.PublishedContent</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">versioned</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_major</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.save_validation_state" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Save validation after publication, changes its status to ACCEPT
:param db_object:  the content
:type db_object: zds.tutorialv2.models.database.PublishableContent
:param is_update: marks if the publication is an update or a new/major publication
:param published: the PublishedContent instance
:param validation: the related validation
:param versioned:  the VersionedContent related to the public sha
:param source: the optional cannonical link
:param is_major: marks a major publication (first one, or new parts for example)
:param user: validating user
:param request: current request to get hats, and send error messages if needed</p>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.publication_utils.unpublish_content">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.publication_utils.</span></code><code class="sig-name descname"><span class="pre">unpublish_content</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moderator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.publication_utils.unpublish_content" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>Remove the given content from the public view.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will send content_unpublished event.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db_object</strong> (<a class="reference internal" href="#zds.tutorialv2.models.database.PublishableContent" title="zds.tutorialv2.models.database.PublishableContent"><em>PublishableContent</em></a>) – Database representation of the content</p></li>
<li><p><strong>moderator</strong> (<em>django.contrib.auth.models.User</em>) – the staff user who triggered the unpublish action.</p></li>
</ul>
</dd>
<dt class="field-even">Renvoie</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if unpublished, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
<dt class="field-odd">Type renvoyé</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-zds.tutorialv2.receivers">
<span id="les-receveurs-d-evenement-bdd-receivers-py"></span><h2><a class="toc-backref" href="#id11">Les receveurs d’évènement bdd (<code class="docutils literal notranslate"><span class="pre">receivers.py</span></code>)</a><a class="headerlink" href="#module-zds.tutorialv2.receivers" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="py function">
<dt id="zds.tutorialv2.receivers.cleanup_validation_alerts">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.receivers.</span></code><code class="sig-name descname"><span class="pre">cleanup_validation_alerts</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moderator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">__</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.receivers.cleanup_validation_alerts" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>When opinions are unpublished (probably permanently), we must be sure all alerts are handled. For now we just     resolve them.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramètres</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sender</strong> – sender class</p></li>
<li><p><strong>instance</strong> – object instance</p></li>
<li><p><strong>moderator</strong> – staff member or author that generated depublication</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="zds.tutorialv2.receivers.log_content_deletion">
<code class="sig-prename descclassname"><span class="pre">zds.tutorialv2.receivers.</span></code><code class="sig-name descname"><span class="pre">log_content_deletion</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">__</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zds.tutorialv2.receivers.log_content_deletion" title="Lien permanent vers cette définition">¶</a></dt>
<dd><p>When a content or gallery is deleted, this action is logged.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="utils.html" class="btn btn-neutral float-right" title="Les utilitaires (utils/)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="searchv2.html" class="btn btn-neutral float-left" title="La recherche (searchv2/)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2014-2021, Zeste de Savoir.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>