@import "../variables/typography"
@import "../variables/colors"
@import "../variables/lengths"
@import "../variables/radius"
@import "../variables/media-queries"


// Ce placeholder génère un bloc à fond coloré sur deux colonnes,
// par défaut en 2/5 – 3/5, pour les sections “technologies” et
// “légal”. On peut les configurer via les variables Sass en haut.
%about-two-columns
  --article-color: #{$white}
  --article-bg: linear-gradient(45deg, #{$primary-800}, #{$primary-500})
  --article-titles: #{$primary-000}
  --article-links: #{$primary-100}
  --article-links-hover: #{$primary-000}

  display: grid
  grid-template-columns: repeat(5, 1fr)
  grid-gap: $length-10

  margin-top: $length-96
  padding: $length-24

  border-radius: $radius-2
  background: var(--article-bg)
  color: var(--article-color)

  +mobile
    display: block
    padding: $length-16
    border-radius: 0

    h3, p
      margin-right: 0
      margin-left: 0
      padding-right: 0
      padding-left: 0

  +tablet-only
    border-radius: 0

  > header
    grid-row: 1
    grid-column: 1 / 3

    +mobile
      margin-bottom: $length-24

    h3
      margin-top: 0
      margin-bottom: 0

      font-size: $font-size-5
      line-height: 1.2
      color: var(--article-titles)

      +mobile
        font-size: $font-size-6

    p
      margin: $length-12 0
      font-family: $font-serif

      &:first-of-type
        &, a
          font-size: $font-size-7

          +mobile
            font-size: $font-size-8

      &.about-block-aside
        &, a
          font-size: $font-size-9
          font-style: italic

    a
      color: var(--article-links)

      &:hover
        color: var(--article-links-hover)

  > dl, > div, > p
    grid-row: 1
    grid-column: 3 / 6

    +mobile
      grid-row: 2
      grid-column: 1


section#about-page
  display: grid
  grid-template-columns: repeat(3, 1fr)
  grid-gap: $length-16

  +mobile
    display: block

  > header
    grid-row: 1
    grid-column: 1 / 3

    > h1
      margin-top: 0
      margin-bottom: .4rem

      font-family: $font-sans-serif
      font-size: $font-size-5
      font-weight: 300

      border: none

      +mobile
        font-size: $font-size-6
        font-weight: 400
        margin-bottom: $length-24

  > article.about-main
    grid-row: 2
    grid-column: 1 / 3

    > p
      font-family: $font-serif
      font-size: $font-size-8

      &:first-child
        margin-top: 0

      &:last-child
        margin-bottom: 0

  > aside.about-partnerships
    grid-row: 1 / 3
    grid-column: 3 / 4

    figure
      margin: $length-32 0 0 0
      text-align: center

      +mobile
        margin-top: $length-48

      +tablet
        &:first-child
          margin-top: 0

      img
        max-width: 70%

      figcaption
        margin-top: $length-8
        font-size: $font-size-9
        font-style: italic

  > article.about-technology
    grid-row: 3
    grid-column: 1 / 4

    @extend %about-two-columns

    > dl
      display: grid
      grid-auto-rows: min-content
      grid-template-columns: max-content auto
      grid-gap: 0 $length-24

      margin: 0

      +mobile
        display: block

      dt
        grid-column: 1

        font-size: $font-size-7
        font-weight: 600

        text-align: right

        +mobile
          text-align: left

        // Space separation when the tech category changes,
        // i.e. when we hit a new dt. We add a margin at the
        // top of this dt, and at the top of the next dd, so
        // they stay aligned.
        &:not(:first-child)
          &, & + dd
            margin-top: $length-24

          +mobile
            & + dd
              margin-top: 0

      dd
        grid-column: 2
        margin: 0

        &, a
          font-size: $font-size-7

        a
          color: $grey-100
          text-decoration-color: rgba($grey-200, .8)
          text-decoration-thickness: from-font
          //text-decoration-line:

          &:hover
            color: $primary-000

  > article.about-legal
    grid-row: 4
    grid-column: 1 / 4

    @extend %about-two-columns

    // Narrower title column
    grid-template-columns: repeat(3, 1fr)
    grid-gap: $length-16

    > header
      grid-column: 1

    > div
      grid-column: 2 / 4

    --article-color: #{$primary-700}
    --article-bg: #{$primary-000}
    --article-titles: #{$primary-900}
    --article-links: #{$primary-700}
    --article-links-hover: #{$primary-800}

    p
      &, a
        font-size: $font-size-9

      &:first-child
        margin-top: 0

      &:last-child
        margin-bottom: 0

    hr
      border-color: $grey-000
